### Mon, Dec 18th, 2023

**dune73** <span style="color: grey; font-size: 90%;">19:30:57 UTC</span>

<span style="font-size: 90%;">Hello, hello, CRS meeting time!</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:31:29 UTC</span>

<span style="font-size: 90%;">Hello</span>

**Matteo Pace** <span style="color: grey; font-size: 90%;">19:31:41 UTC</span>

<span style="font-size: 90%;">Hi!</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:31:53 UTC</span>

<span style="font-size: 90%;">hi!</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:32:04 UTC</span>

<span style="font-size: 90%;">Hello!</span>

**airween** <span style="color: grey; font-size: 90%;">19:32:23 UTC</span>

<span style="font-size: 90%;">hi everyone!</span>

**dune73** <span style="color: grey; font-size: 90%;">19:32:44 UTC</span>

<span style="font-size: 90%;">Good to see you all, so close before Xmas.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:33:08 UTC</span>

<span style="font-size: 90%;">We had a ton of snow 10 days ago and now it's all fog and rain and snow all gone. :disappointed:</span>

**emphazer** <span style="color: grey; font-size: 90%;">19:33:17 UTC</span>

<span style="font-size: 90%;">Good evening!</span>

**dune73** <span style="color: grey; font-size: 90%;">19:35:05 UTC</span>

<span style="font-size: 90%;">If you're ready, let's get started. We have not really decided on the CRS community Summit parallel to the OWASP conference in Lisbon in June. The natural date Wednesday, June 25 26, 2024. That is the 3rd workshop day and the day before the real 2-day conference.</span>

**Edgars Voroboks** <span style="color: grey; font-size: 90%;">19:35:10 UTC</span>

<span style="font-size: 90%;">Good evening!</span>

**dune73** <span style="color: grey; font-size: 90%;">19:35:26 UTC</span>

<span style="font-size: 90%;">Hey, hey _@Edgars Voroboks_ that's a rare sight. Welcome!</span>

**dune73** <span style="color: grey; font-size: 90%;">19:35:53 UTC</span>

<span style="font-size: 90%;">Any opinions on the community summit?</span>

**dune73** <span style="color: grey; font-size: 90%;">19:36:02 UTC</span>

<span style="font-size: 90%;">I mean I will really try to avoid getting sick again...</span>

**airween** <span style="color: grey; font-size: 90%;">19:36:05 UTC</span>

<span style="font-size: 90%;">The natural date Wednesday, June 25, 2024. - isn't that 26th?</span>

**dune73** <span style="color: grey; font-size: 90%;">19:36:41 UTC</span>

<span style="font-size: 90%;">Yes, it is. Sorry.</span>

**airween** <span style="color: grey; font-size: 90%;">19:36:48 UTC</span>

<span style="font-size: 90%;">ok, np</span>

**airween** <span style="color: grey; font-size: 90%;">19:36:52 UTC</span>

<span style="font-size: 90%;">just for sure...</span>

**dune73** <span style="color: grey; font-size: 90%;">19:38:07 UTC</span>

<span style="font-size: 90%;">So you all agree we make that date official?</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:38:44 UTC</span>

<span style="font-size: 90%;">It is the date that makes the most sense</span>

**dune73** <span style="color: grey; font-size: 90%;">19:39:27 UTC</span>

<span style="font-size: 90%;">I think so too.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:39:30 UTC</span>

<span style="font-size: 90%;">Thanks.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:40:20 UTC</span>

<span style="font-size: 90%;">If you intend to attend and also attend the real conf, I suggest you get a ticket ASAP. There is an early bird running until the end of the year.
[https://lisbon.globalappsec.org/](https://lisbon.globalappsec.org/)</span>

**dune73** <span style="color: grey; font-size: 90%;">19:41:11 UTC</span>

<span style="font-size: 90%;">Usually, projects are not really allowed to pay the tickets for their members (but chances are this rule was lifted in 2023, I need to check). Anyways, better to secure a ticket and we'll try and reimburse you.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:42:02 UTC</span>

<span style="font-size: 90%;">Next one: The standard date for the 1st Jan meeting would be - drumm roll - Monday, January 1. But that really is an official holiday like everywhere. So what do we do?</span>

**dune73** <span style="color: grey; font-size: 90%;">19:42:24 UTC</span>

<span style="font-size: 90%;">Jan 1 - or Jan 8 (and Jan 22 for the 2nd meeting)?</span>

**fzipitria** <span style="color: grey; font-size: 90%;">19:42:40 UTC</span>

<span style="font-size: 90%;">Jan 8</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:42:43 UTC</span>

<span style="font-size: 90%;">Skip the second meeting?</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:42:44 UTC</span>

<span style="font-size: 90%;">Jan 8 and Jan 22 for the second meeting.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:43:14 UTC</span>

<span style="font-size: 90%;">If we are aiming for CRSv4 early in the year, I think we need to keep the option to have a 2nd meeting in Jan.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:43:51 UTC</span>

<span style="font-size: 90%;">I see support for Jan 8. OK?</span>

**dune73** <span style="color: grey; font-size: 90%;">19:44:42 UTC</span>

<span style="font-size: 90%;">Cool. Thanks. So that's settled.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:44:54 UTC</span>

<span style="font-size: 90%;">The next question is a bit more tricky (and it's still only a warmup question).</span>

**dune73** <span style="color: grey; font-size: 90%;">19:45:05 UTC</span>

<span style="font-size: 90%;">We have a problem with rule exclusions with tags.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:45:12 UTC</span>

<span style="font-size: 90%;">See [https://github.com/coreruleset/secrules_parsing/issues/43](https://github.com/coreruleset/secrules_parsing/issues/43)</span>

**dune73** <span style="color: grey; font-size: 90%;">19:45:16 UTC</span>

<span style="font-size: 90%;">Can somebody explain this?</span>

**jit** <span style="color: grey; font-size: 90%;">19:46:19 UTC</span>

<span style="font-size: 90%;">Hi everyone :wave:</span>

**dune73** <span style="color: grey; font-size: 90%;">19:46:27 UTC</span>

<span style="font-size: 90%;">Hey _@jit_</span>

**dune73** <span style="color: grey; font-size: 90%;">19:46:36 UTC</span>

<span style="font-size: 90%;">You've been active on this issue, have not you?</span>

↳ **jit** <span style="color: grey; font-size: 90%;">19:47:07 UTC</span>

<span style="font-size: 90%;">Is it V3E?</span>

↳ **airween** <span style="color: grey; font-size: 90%;">19:47:23 UTC</span>

<span style="font-size: 90%;">no, see the link above</span>

↳ **jit** <span style="color: grey; font-size: 90%;">19:48:49 UTC</span>

<span style="font-size: 90%;">Yes, I opened a PR regarding that, which was merged.</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:46:53 UTC</span>

<span style="font-size: 90%;">A PR by _@jit_ was already merged for that issue in June...</span>

**dune73** <span style="color: grey; font-size: 90%;">19:47:45 UTC</span>

<span style="font-size: 90%;">But somebody added it to the agenda for tonight (not me...)</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:47:56 UTC</span>

<span style="font-size: 90%;">That was _@fzipitria_</span>

↳ **fzipitria** <span style="color: grey; font-size: 90%;">19:48:26 UTC</span>

<span style="font-size: 90%;">Not me.</span>

↳ **maxleske** <span style="color: grey; font-size: 90%;">19:49:58 UTC</span>

<span style="font-size: 90%;"></span>

↳ **maxleske** <span style="color: grey; font-size: 90%;">19:50:00 UTC</span>

<span style="font-size: 90%;">:wink:</span>

↳ **fzipitria** <span style="color: grey; font-size: 90%;">19:57:30 UTC</span>

<span style="font-size: 90%;">:scream: :beers:</span>

↳ **maxleske** <span style="color: grey; font-size: 90%;">19:57:46 UTC</span>

<span style="font-size: 90%;">:satisfied:</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:48:06 UTC</span>

<span style="font-size: 90%;">I think that issue can be closed?</span>

**airween** <span style="color: grey; font-size: 90%;">19:48:12 UTC</span>

<span style="font-size: 90%;">Then we can close that issue, right?</span>

**dune73** <span style="color: grey; font-size: 90%;">19:48:25 UTC</span>

<span style="font-size: 90%;">Ah, I thought the long term resolution was still open.</span>

**airween** <span style="color: grey; font-size: 90%;">19:49:08 UTC</span>

<span style="font-size: 90%;">I've closed it</span>

**dune73** <span style="color: grey; font-size: 90%;">19:49:18 UTC</span>

<span style="font-size: 90%;">OK. Thanks.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:49:33 UTC</span>

<span style="font-size: 90%;">Can you add a remark this was closed by the meeting and if it's not solved, they should re-open?</span>

**airween** <span style="color: grey; font-size: 90%;">19:51:16 UTC</span>

<span style="font-size: 90%;">Done.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:52:08 UTC</span>

<span style="font-size: 90%;">Which brings us to the security problem we discuss as V3E (without discussing the technical details in public). But it's a bit hairy. We have several proposals to address this. The biggest proposal or most fundamental one comes from _@theMiddle_. Do you want to make that case and we'll see if the team agrees or we look into the alternatives?</span>

**dune73** <span style="color: grey; font-size: 90%;">19:52:35 UTC</span>

<span style="font-size: 90%;">(Or maybe the proposal sounds good once everybody has heard the alternatives.)</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:54:29 UTC</span>

<span style="font-size: 90%;">oky, I try to avoid technical details, but I want to explain well the situation in details if for you it's ok</span>

**dune73** <span style="color: grey; font-size: 90%;">19:54:51 UTC</span>

<span style="font-size: 90%;">Please do.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:58:23 UTC</span>

<span style="font-size: 90%;">Ok, so. Basically, all known engines, including libModSecurity 3.x, ModSecurity v2.x, and Coraza (and who knows how many others), are affected by a bug in implementing variables like REQUEST_FILENAME. This bug leads to various bypasses, some of which are critical in the case of v3, hindering CRS's effectiveness against exploits in paths like SQL Injection, XSS, etc.

This issue has been well known and public for years (and the exploit technique is well known from 2005), yet it remains unfixed. We've reported the problem to the vendor, who plans to fix just one of the bugs. They'll send us the patch in mid-January for review, so the actual fix is likely to happen in February 2024.

Consequently, the other bug may not be fixed at all. We have a PR (3382) that solves the problem once and for all, replacing the affected variables with our own versions. This move will make us independent from the vendors and ensure that we know exactly what we are inspecting, regardless of the engine implementation.

The challenge now is that not all CRS team members agree on using our own variables instead of relying on the engine's (because this means touching many rules and fixing also exclusion rules). Today, we need to decide whether to fix all the bugs ourselves or wait for a fix from Vendor, keeping in mind that they are only addressing one of the two bugs.

Please, if you haven't done yet, take a look at the 3382</span>

**xanadu** <span style="color: grey; font-size: 90%;">20:00:14 UTC</span>

<span style="font-size: 90%;">How does the 'Big News' affect this, or does it not?</span>

**xanadu** <span style="color: grey; font-size: 90%;">20:00:22 UTC</span>

<span style="font-size: 90%;">(This is difficult to discuss in public tbh.)</span>

**airween** <span style="color: grey; font-size: 90%;">20:00:24 UTC</span>

<span style="font-size: 90%;">(the link: [https://github.com/coreruleset/coreruleset/pull/3382](https://github.com/coreruleset/coreruleset/pull/3382))</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:00:31 UTC</span>

<span style="font-size: 90%;">In my view, we should opt for our own versions of these variables, which could prevent any similar issues in the future. Additionally, we ought to inform CRS users and release the fix as soon as we can, considering that this problem has been widely known for years and is likely already being exploited by malicious actors.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:00:57 UTC</span>

<span style="font-size: 90%;">_@xanadu_ I think it does, but not in a totally decisive way.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:01:14 UTC</span>

<span style="font-size: 90%;">_@theMiddle_: You write "mid-January for review, so the actual fix is likely to happen in February 2024". Where do you have these dates from?</span>

**maxleske** <span style="color: grey; font-size: 90%;">20:01:53 UTC</span>

<span style="font-size: 90%;">_@dune73_, _@airween_ you've been playing around with workarounds for this, right? Can I look at those somewhere?</span>

**dune73** <span style="color: grey; font-size: 90%;">20:02:38 UTC</span>

<span style="font-size: 90%;">_@maxleske_ Please wait for a minute until we have the "big workaround" fully on the table.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:02:44 UTC</span>

<span style="font-size: 90%;">the vendor doesn't says any specific dates. They just said early jan (that with holidays means at least mid Jan)</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:03:03 UTC</span>

<span style="font-size: 90%;">we receive their patch, we need to test it, so I think 2 weeks is required</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:03:08 UTC</span>

<span style="font-size: 90%;">that leads us to Feb 2024</span>

**dune73** <span style="color: grey; font-size: 90%;">20:03:28 UTC</span>

<span style="font-size: 90%;">The vendor says - let me quote - "have a v3 vuln fix only release as early as possible in the new year".</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:04:07 UTC</span>

<span style="font-size: 90%;">uhm yes... I don't think they'll send us the fix the first week of Jan TBH :)</span>

**dune73** <span style="color: grey; font-size: 90%;">20:04:38 UTC</span>

<span style="font-size: 90%;">OK, we'll see.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:04:57 UTC</span>

<span style="font-size: 90%;">do you really think they'll provide us a patch the first week of Jan?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:05:04 UTC</span>

<span style="font-size: 90%;">have you got information on this?</span>

**dune73** <span style="color: grey; font-size: 90%;">20:05:32 UTC</span>

<span style="font-size: 90%;">_@airween_ What do you think?</span>

**airween** <span style="color: grey; font-size: 90%;">20:05:49 UTC</span>

<span style="font-size: 90%;">I'm looking for the vendor's e-mail, wait a minute</span>

**dune73** <span style="color: grey; font-size: 90%;">20:06:01 UTC</span>

<span style="font-size: 90%;">[https://github.com/coreruleset/security-tracker-private/issues/11#issuecomment-1847167433](https://github.com/coreruleset/security-tracker-private/issues/11#issuecomment-1847167433)</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:06:55 UTC</span>

<span style="font-size: 90%;">anyway, could everyone please share their preference? We need to make a decision on this matter and can't afford to delay it any further...</span>

**airween** <span style="color: grey; font-size: 90%;">20:07:05 UTC</span>

<span style="font-size: 90%;">"early as possible in the new year"</span>

**dune73** <span style="color: grey; font-size: 90%;">20:07:17 UTC</span>

<span style="font-size: 90%;">Hold on, we need to get this right before we can decide.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:08:17 UTC</span>

<span style="font-size: 90%;">The big workaround replaces REQUEST_FILENAME and REQUEST_BASENAME with new TX variables across dozens of rules, forcing all users to rewrite their rule exclusions. Correct?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:08:55 UTC</span>

<span style="font-size: 90%;">users that wrote their custom exclusion on those rules, yes</span>

**dune73** <span style="color: grey; font-size: 90%;">20:09:16 UTC</span>

<span style="font-size: 90%;">If the need for the TX variables goes away in the future, they need to switch back again - or we stick to redundant variables in our rules.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:10:24 UTC</span>

<span style="font-size: 90%;">that's the point, I think this need shouldn't go away in the future. We need this to be independent from engine design</span>

**airween** <span style="color: grey; font-size: 90%;">20:10:47 UTC</span>

<span style="font-size: 90%;">why do you think this?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:11:12 UTC</span>

<span style="font-size: 90%;">because all known engine implemented wrong those variables :smile:</span>

**dune73** <span style="color: grey; font-size: 90%;">20:11:27 UTC</span>

<span style="font-size: 90%;">That is a valid opinion _@theMiddle_.

So this is the "big workaround". If anybody is not entirely clear, please ask now.</span>

**maxleske** <span style="color: grey; font-size: 90%;">20:11:58 UTC</span>

<span style="font-size: 90%;">I'd like to understand the alternatives / workarounds before declaring my opinion</span>

**dune73** <span style="color: grey; font-size: 90%;">20:12:05 UTC</span>

<span style="font-size: 90%;">sure</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:12:07 UTC</span>

<span style="font-size: 90%;">Me too</span>

**dune73** <span style="color: grey; font-size: 90%;">20:12:12 UTC</span>

<span style="font-size: 90%;">Describing them now.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:12:21 UTC</span>

<span style="font-size: 90%;">I have an opinion already, but want to know them also</span>

**dune73** <span style="color: grey; font-size: 90%;">20:16:34 UTC</span>

<span style="font-size: 90%;">Then we have 2 alternative approaches.
Alternative 1: Detection rule: We write a detection rule for the narrow V3E problem and release v4 with this rule and backport to CRS3. This is fairly independent from what the vendor does. Behavior differences in ModSec v2 and v3 are covered by adding decoding as in PR [#3411](https://github.com/coreruleset/coreruleset/issues/#3411). A draft detection rule (or rather draft recipe that needs to be condensed) is in the V3E issue at the bottom.
Alternative 2: It's an engine problem: We wait for vendor fix in Jan (or Feb if unlucky) and cover behavior difference v2 / v3 via PR [#3411](https://github.com/coreruleset/coreruleset/issues/#3411) and release v4. No backports to CRS3 necessary, since we depend on vendor. Longterm plan to work with vendor or future community project to solve behavior difference.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:17:21 UTC</span>

<span style="font-size: 90%;">Let me add that the long term solution for Alternative 2 should come with the introduction of "REQUEST_FILENAME_RAW" and "REQUEST_BASENAME_RAW" on the engine level.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:18:27 UTC</span>

<span style="font-size: 90%;">Please correct me if I got anything wrong. But that's the 3 more or less distinct approaches I see.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:18:49 UTC</span>

<span style="font-size: 90%;">ALT1 appears to be impractical, as all attempts result in false positives, meaning we would end up blocking legitimate requests. This isn't a viable option, and our users wouldn't expect such a solution from us.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:19:16 UTC</span>

<span style="font-size: 90%;">That's your opinion. I did not call your "big workaround" impractical.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:19:56 UTC</span>

<span style="font-size: 90%;">of course this is my opinion :smile:</span>

**dune73** <span style="color: grey; font-size: 90%;">20:20:34 UTC</span>

<span style="font-size: 90%;">What I want to say is: It's possible it's not viable. But it's not clear per se. We need to discuss.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:20:39 UTC</span>

<span style="font-size: 90%;">but blocking a character in the path request doesn't mean that we're going to block an attack</span>

**dune73** <span style="color: grey; font-size: 90%;">20:21:47 UTC</span>

<span style="font-size: 90%;">Well it can. That's the discussion. (And it's not my favorite approach to this. :sweat_smile:)</span>

**maxleske** <span style="color: grey; font-size: 90%;">20:22:35 UTC</span>

<span style="font-size: 90%;">I have my opinion written down, but I'd like to hear other opinions first. I don't want to be the major influence.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:23:33 UTC</span>

<span style="font-size: 90%;">Before we decide, I want to be sure everybody understood the 3 approaches. Are they clear?</span>

**dune73** <span style="color: grey; font-size: 90%;">20:23:58 UTC</span>

<span style="font-size: 90%;">And are these really the 3 possible approaches, or could we handle this differently?</span>

**airween** <span style="color: grey; font-size: 90%;">20:24:52 UTC</span>

<span style="font-size: 90%;">we really didn't discuss with _@dune73_ but I also think this whole issue is definitely an engine problem. And because of the "Big news" is on the horizon, I see a really valid chance to fix it - sooner or later. So I would prefer ALT 2.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:24:55 UTC</span>

<span style="font-size: 90%;">Also: I'm sorry I did not get the detection rule sorted out earlier. I posted pseudo-code really early, but I could not get it down to a single rule like I wanted. Only shared my draft tonight.</span>

**xanadu** <span style="color: grey; font-size: 90%;">20:26:38 UTC</span>

<span style="font-size: 90%;">If we can push to get all of the major engines to behave the same and correctly in this instance/scenario then we should surely aim for that.</span>

**xanadu** <span style="color: grey; font-size: 90%;">20:26:44 UTC</span>

<span style="font-size: 90%;">Do we have a clear idea of what team Coraza will do?</span>

↳ **Matteo Pace** <span style="color: grey; font-size: 90%;">20:30:28 UTC</span>

<span style="font-size: 90%;">We are happy to work and align Coraza to a clearly stated expected behavior</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:27:35 UTC</span>

<span style="font-size: 90%;">but the problem is that we are not going to act like the CRS project. We just try to fix other project issues. What engines does is not our business IMO.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:28:02 UTC</span>

<span style="font-size: 90%;">As a project we can fix this, we can inform users that there's a breaking change and explain them why</span>

**dune73** <span style="color: grey; font-size: 90%;">20:28:20 UTC</span>

<span style="font-size: 90%;">I think Coraza is fairly close to the desired behavior and I am sure  we can talk to them if we need a behavior change.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:28:22 UTC</span>

<span style="font-size: 90%;">What happens if we cannot fix a problem?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:28:34 UTC</span>

<span style="font-size: 90%;">but in this case we can! :smile:</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:28:44 UTC</span>

<span style="font-size: 90%;">I'm not talking about this case</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:28:48 UTC</span>

<span style="font-size: 90%;">:wink:</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:28:58 UTC</span>

<span style="font-size: 90%;">yes I know, but please let stay on the problem</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:29:12 UTC</span>

<span style="font-size: 90%;">Yes and no</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:29:14 UTC</span>

<span style="font-size: 90%;">in this case we can fix, regardless of any known engine</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:29:28 UTC</span>

<span style="font-size: 90%;">What we are defining here is how we need to approach problems in the future.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:29:49 UTC</span>

<span style="font-size: 90%;">if we can't fix a problem, we can't fix a problem.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:30:02 UTC</span>

<span style="font-size: 90%;">So we depend on the engine?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:30:24 UTC</span>

<span style="font-size: 90%;">no, imagine in the future there're 30 different engine</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:30:44 UTC</span>

<span style="font-size: 90%;">you'll ask to all engine to fix their own bugs, wait for them?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:31:04 UTC</span>

<span style="font-size: 90%;">we must be independent</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:31:11 UTC</span>

<span style="font-size: 90%;">But we can't 100%</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:31:20 UTC</span>

<span style="font-size: 90%;">but we can inform users</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:31:26 UTC</span>

<span style="font-size: 90%;">that's a way to be independent</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:31:30 UTC</span>

<span style="font-size: 90%;">We will always depend on good implementation, I mean</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:31:45 UTC</span>

<span style="font-size: 90%;">And there is no specification yet on how things should be processed properly</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:32:01 UTC</span>

<span style="font-size: 90%;">we'll not hide anything to users, we can say "the engine XY is vulnerable to this, we informed the vendor but they take too much time to provide a fix. please, be aware"</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:32:21 UTC</span>

<span style="font-size: 90%;">So for the future I think we must write tests that engines must use to test if they are compatible or not. That is what I meant.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:32:24 UTC</span>

<span style="font-size: 90%;">but we're going far for the decision we have to take today</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:32:42 UTC</span>

<span style="font-size: 90%;">sorry, but I think it's important to get back to the problem</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:33:03 UTC</span>

<span style="font-size: 90%;">Sorry, but I must think about the forest also, as a leader :smile:</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:33:19 UTC</span>

<span style="font-size: 90%;">I know, but we have just this meeting to take a decition</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:33:50 UTC</span>

<span style="font-size: 90%;">I would like to share my opinion too :sweat_smile:
I'm for the "let's wait for the vendor" option, ALT 2. These few days no longer matter and they promised a fix. And also, in my opinion, because the "big workaround" means a massive change to the CRS -> This also has dependencies to rule exclusions from customers and also to integrators. It's better to wait for this fix.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:35:00 UTC</span>

<span style="font-size: 90%;">ah, obviously I'll not wait the vendor to inform users. That also need to be clear.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:36:28 UTC</span>

<span style="font-size: 90%;">or the vendor write us a precise day for the fix, or I'll go with a disclosure before Feb 2024</span>

**dune73** <span style="color: grey; font-size: 90%;">20:36:39 UTC</span>

<span style="font-size: 90%;">_@maxleske_: Are your :raised_hands: a preference for Alt 2 like _@franbuehler_ and _@airween_?</span>

**dune73** <span style="color: grey; font-size: 90%;">20:37:06 UTC</span>

<span style="font-size: 90%;">And what do you think _@Matteo Pace_?
As a big site, do you have an opinion _@emphazer_?</span>

**maxleske** <span style="color: grey; font-size: 90%;">20:37:15 UTC</span>

<span style="font-size: 90%;">No, that was in appreciation of her sharing her thoughts :slightly_smiling_face:</span>

**airween** <span style="color: grey; font-size: 90%;">20:37:48 UTC</span>

<span style="font-size: 90%;">(and just saying': if we were to build the engine specific rules from USL, this wouldn't be a problem now - but yes, back to the problem, sorry)</span>

**dune73** <span style="color: grey; font-size: 90%;">20:38:22 UTC</span>

<span style="font-size: 90%;">What do you think _@xanadu_ when looking at the 3 approaches?</span>

**xanadu** <span style="color: grey; font-size: 90%;">20:38:59 UTC</span>

<span style="font-size: 90%;">I like the idea of creating our own vendor-netural 'tx' variables so that we can correctly control things ourselves. However, to make this workaround function correctly, the changes required to the whole of CRS seem too great in this case. If the workaround changes were more subtle then I think it would be easy to support the workaround.</span>

**xanadu** <span style="color: grey; font-size: 90%;">20:39:17 UTC</span>

<span style="font-size: 90%;">I think pushing for engines to be aligned on the correct behaviour is the way to go.</span>

**xanadu** <span style="color: grey; font-size: 90%;">20:39:37 UTC</span>

<span style="font-size: 90%;">Rather than a CRS-side fix. Unless a robust detection rule is possible, then that would also be a good idea (until the engines are all working correctly).</span>

**dune73** <span style="color: grey; font-size: 90%;">20:41:04 UTC</span>

<span style="font-size: 90%;">I think _@theMiddle_ is right, that the dection rules will come with FPs that are hard to fight.</span>

**xanadu** <span style="color: grey; font-size: 90%;">20:41:30 UTC</span>

<span style="font-size: 90%;">Yeah. Again, if that approach was simple and robust then it would also be an easy choice :sweat_smile:</span>

**maxleske** <span style="color: grey; font-size: 90%;">20:44:10 UTC</span>

<span style="font-size: 90%;">I vote for "the big workaround". It makes us independent from engines and implementation timelines. We can also prevent future issues by adding lint checks to enforce the use of our own variables.
I don't think it's a beautiful solution but the most practical one, given the circumstances. In addition, v4.0 is the only time to do this. Users will have to to some work to migrate to v4.0 regardless of whether we do this or not.

Thinking about this from the customer standpoint, I would personally expect the rule set to abstract engines away. When a rule says "I do X" then I expect that to work and I don't care which engine I'm using (the engine is probably a choice based on the system landscape, e.g., Coraza on Kubernetes).

In the future, we will be able to get rid of the workaround very easily, once we generate rules from our "universal rule language".

The detection rule proposed by _@dune73_ could possibly be used in a backport to v3.</span>

**Matteo Pace** <span style="color: grey; font-size: 90%;">20:45:05 UTC</span>

<span style="font-size: 90%;">Honestly, it’s hard to take a position because I’m not happy with any of these solutions :sweat_smile:. I would esclude ALT1 because I feel (might be totally wrong) that is too much FP’s prone.
I would definitely call it an engine problem. What i’m wondering (kind of a philosophical question) is, what can we trust? Going for the “big workaround” means that, as a CRS, we should try to rely as little as possible from the engines. It could really is a shift on logically thinking any rule, relying as little as possible to whatever the engine does. But at the same time it is kind of a short circuit logic being rules written based on what should be a well defined syntax and behaviour</span>

**dune73** <span style="color: grey; font-size: 90%;">20:45:27 UTC</span>

<span style="font-size: 90%;">_@maxleske_: That seems to be a new approach: big workaround for v4 and detection rule backported to v3?</span>

**maxleske** <span style="color: grey; font-size: 90%;">20:46:45 UTC</span>

<span style="font-size: 90%;">I just don't really see people adopting the big changes for a backport. But for an upgrade to v4 I see little issues</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:47:19 UTC</span>

<span style="font-size: 90%;">My opinion is that we could release a patch and be independent. This implies adding a CVE. Adding this CVE now will give people visibility to the problem. Even if vendor releases the fix, it will prompt users for thinking about when to update.

But I don't know if we should release it as part of CRS, or just provided it for people to install. Awareness for our users will give transparency, and we will be providing a fix.

But honestly, I don't want to mantain a workaround in CRS for something that should work properly in the engine. And that will make us think about how we test that engines must do to be compatible with CRS.</span>

**maxleske** <span style="color: grey; font-size: 90%;">20:48:13 UTC</span>

<span style="font-size: 90%;">I fully agree with you Felipe, but the reality is that we cannot rely on engines.</span>

**airween** <span style="color: grey; font-size: 90%;">20:48:47 UTC</span>

<span style="font-size: 90%;">Honestly: how many engines can we count?</span>

**dune73** <span style="color: grey; font-size: 90%;">20:49:39 UTC</span>

<span style="font-size: 90%;">I think we need to work with engines to define a standard. So far our standard was ModSec v2. If we want to release engine specific rules in the future, I would prefer to plan this ahead.</span>

**maxleske** <span style="color: grey; font-size: 90%;">20:50:18 UTC</span>

<span style="font-size: 90%;">Also agree with that 100%. But we have to address this issue now.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:50:23 UTC</span>

<span style="font-size: 90%;">Yes</span>

**emphazer** <span style="color: grey; font-size: 90%;">20:50:30 UTC</span>

<span style="font-size: 90%;">I am more into ALT2 compared to ALT1. </span>

**emphazer** <span style="color: grey; font-size: 90%;">20:51:29 UTC</span>

<span style="font-size: 90%;">It’s very difficulty situation. We should definitely do a pro/cons and consider what could be the worst scenario.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:52:49 UTC</span>

<span style="font-size: 90%;">_@theMiddle_ What do you think about releasing the big workaround as a separate patch like _@fzipitria_ proposes? So release it separately, but it would not be merged.</span>

**airween** <span style="color: grey; font-size: 90%;">20:53:25 UTC</span>

<span style="font-size: 90%;">I think if we trust the vendor and want to release v4.0 before the fix, we should keep the rules as they are now. If the patch won't fix each issue, then we can release a 4.0.1 later. But if the vendor will fix every issue, then we will be good.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:54:42 UTC</span>

<span style="font-size: 90%;">I think nobody will apply a separate patch TBH</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:55:22 UTC</span>

<span style="font-size: 90%;">Why?</span>

**emphazer** <span style="color: grey; font-size: 90%;">20:55:25 UTC</span>

<span style="font-size: 90%;">Never never never do that…</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:55:40 UTC</span>

<span style="font-size: 90%;">releasing 4.0 before the fix means releasing a vulnerable to a critical bypass release</span>

**emphazer** <span style="color: grey; font-size: 90%;">20:56:00 UTC</span>

<span style="font-size: 90%;">A lot of distributions will take the final release and won’t patch later…</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:56:26 UTC</span>

<span style="font-size: 90%;">This will be fixed in ~ two months</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:56:35 UTC</span>

<span style="font-size: 90%;">nope</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:56:45 UTC</span>

<span style="font-size: 90%;">just 1 out of 2 bugs will be fixed in two months</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:57:05 UTC</span>

<span style="font-size: 90%;">You don't know that.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:57:14 UTC</span>

<span style="font-size: 90%;">That's why we provide a solution</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:57:16 UTC</span>

<span style="font-size: 90%;">and we're not aware of all implications of the second bug. Just today come out another variation of bypass (probably)</span>

**dune73** <span style="color: grey; font-size: 90%;">20:57:37 UTC</span>

<span style="font-size: 90%;">Let's not call the behavior difference a bug.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:57:50 UTC</span>

<span style="font-size: 90%;">And we can live it it. See PR 3411.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:57:52 UTC</span>

<span style="font-size: 90%;">Is IS a bug :smile:</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:57:56 UTC</span>

<span style="font-size: 90%;">it leaded to a bypass on CRS, how you'd call it?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:57:59 UTC</span>

<span style="font-size: 90%;">feature? :smile:</span>

↳ **maxleske** <span style="color: grey; font-size: 90%;">20:58:35 UTC</span>

<span style="font-size: 90%;">... for an attacker... :satisfied:</span>

**dune73** <span style="color: grey; font-size: 90%;">20:58:08 UTC</span>

<span style="font-size: 90%;">Behavior difference.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:58:12 UTC</span>

<span style="font-size: 90%;">come on</span>

**dune73** <span style="color: grey; font-size: 90%;">20:58:18 UTC</span>

<span style="font-size: 90%;">If it's a bug, tell me which behavior is correct?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:58:38 UTC</span>

<span style="font-size: 90%;">please, it's a bug. a serious design bug of 2.x</span>

↳ **airween** <span style="color: grey; font-size: 90%;">20:59:48 UTC</span>

<span style="font-size: 90%;">I'm not sure about that. Documentation mentions an expected behavior (very clearly), and engine does not follow that.

It's not by design. IMHO.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:59:05 UTC</span>

<span style="font-size: 90%;">the correct behavior is "do not url decode if not needed and not documented"</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:59:12 UTC</span>

<span style="font-size: 90%;">and do the same thing among all phases</span>

**airween** <span style="color: grey; font-size: 90%;">20:59:48 UTC</span>

<span style="font-size: 90%;">I'm not sure about that. Documentation mentions an expected behavior (very clearly), and engine does not follow that.

It's not by design. IMHO.</span>

↳ **airween** <span style="color: grey; font-size: 90%;">20:59:48 UTC</span>

<span style="font-size: 90%;">I'm not sure about that. Documentation mentions an expected behavior (very clearly), and engine does not follow that.

It's not by design. IMHO.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:59:56 UTC</span>

<span style="font-size: 90%;">This is not the hill I am going to die on, but I am sure v2 does this on purpose. Otherwise, there was not need for REQUEST_URI_RAW.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:00:44 UTC</span>

<span style="font-size: 90%;">on purpose or not, we've a variable with different value at phase:1 and phase:2 and it's not documented. And leaded to a bypass on CRS</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:01:09 UTC</span>

<span style="font-size: 90%;">this is a clear description of a serious bug, and a security issue for us</span>

**dune73** <span style="color: grey; font-size: 90%;">21:01:43 UTC</span>

<span style="font-size: 90%;">That's why I wrote PR [#3411](https://github.com/coreruleset/coreruleset/issues/#3411).</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:02:22 UTC</span>

<span style="font-size: 90%;">yes, that exactly what we should do to be engine independent</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:03:15 UTC</span>

<span style="font-size: 90%;">write our rule to prevent unexpected behavior and having a cross-engine compatible rule set</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:03:48 UTC</span>

<span style="font-size: 90%;">That is what is coming when we compile rules</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:04:08 UTC</span>

<span style="font-size: 90%;">It is going to be very difficult to achieve that, as I said before, with the tools we have now.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:04:19 UTC</span>

<span style="font-size: 90%;">We depend 100% on engines for fixes.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:04:35 UTC</span>

<span style="font-size: 90%;">Sometimes we might be able to do things, like this particular case</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:04:42 UTC</span>

<span style="font-size: 90%;">But the hassle for users will be huge</span>

**dune73** <span style="color: grey; font-size: 90%;">21:04:48 UTC</span>

<span style="font-size: 90%;">Even with optimal tools, it's adding a lot of complexity. V3E gives us a taste of what different engine behavior means. Converging behavior is way easier to handle.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:05:38 UTC</span>

<span style="font-size: 90%;">But for future engines, I would like to detach from modsecurity behavior, If the engine is better and is more optimal</span>

**dune73** <span style="color: grey; font-size: 90%;">21:06:11 UTC</span>

<span style="font-size: 90%;">That sounds reasonable. But let's make it an informed and planned decision. Not an emergency hot fix.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:06:21 UTC</span>

<span style="font-size: 90%;">For sure.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:06:40 UTC</span>

<span style="font-size: 90%;">That's why this problem (V3E) comes in a very bad timing</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:06:49 UTC</span>

<span style="font-size: 90%;">But you can't choose about this</span>

**dune73** <span style="color: grey; font-size: 90%;">21:06:51 UTC</span>

<span style="font-size: 90%;">Super bad timing.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:07:01 UTC</span>

<span style="font-size: 90%;">We must provide a solution to our users.</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:07:43 UTC</span>

<span style="font-size: 90%;">Yes. And we should try to force engines to converge on behavior. But when will this be the case? I'd say in 2-3 years earliest. Until then, we need to do what we can to ensure that our users are protected by the rules we write. And if we have the ability to protect our users from such a thing as V3E then we should do it. We understand the problem best and have the greatest motivation to fix it.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:08:58 UTC</span>

<span style="font-size: 90%;">Is the fact that we've done a feature freeze on V4 any concern to you here?</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:09:27 UTC</span>

<span style="font-size: 90%;">No. The change is simple enough IMO.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:10:22 UTC</span>

<span style="font-size: 90%;">It's changing 50+ rules and nobody realized that users have to rewrite all the existing REQUEST_FILENAME rule exclusions 4-5 weeks into the discussion. The change is very compley IMO.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:10:32 UTC</span>

<span style="font-size: 90%;">It has a ton of strings attached.</span>

**xanadu** <span style="color: grey; font-size: 90%;">21:11:05 UTC</span>

<span style="font-size: 90%;">That would have to be a 3.6 release if we backported. It's a significant change.</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:11:08 UTC</span>

<span style="font-size: 90%;">Yes, but the feature freeze only applies to us, not to our users. For us it's one rule + search and replace</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:11:29 UTC</span>

<span style="font-size: 90%;">That's why I proposed the detection rule for the backport</span>

**dune73** <span style="color: grey; font-size: 90%;">21:11:41 UTC</span>

<span style="font-size: 90%;">It's simple to do, but the effects are very hard to predict.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:12:30 UTC</span>

<span style="font-size: 90%;">We've done an RC2 and we are constantly postponing v4 with new stuff we want to do. I think releasing all the security fixes in v4 is much more important than V3E.</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:13:15 UTC</span>

<span style="font-size: 90%;">To me, V3E is a lot more important than many of the BB issues we fixed.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:13:30 UTC</span>

<span style="font-size: 90%;">But we provide a solution.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:13:56 UTC</span>

<span style="font-size: 90%;">I also get the impression that the operators of the biggest platforms in this discussion are the ones that are the ones that are very reluctant to adopt the big workaround.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:14:17 UTC</span>

<span style="font-size: 90%;">Then that's their decision</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:14:48 UTC</span>

<span style="font-size: 90%;">e.g. if you are in azure, you only can use CRS 3.2.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:15:00 UTC</span>

<span style="font-size: 90%;">Users expect projects to take sane decisions for them. Or they would write their own rules.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:15:26 UTC</span>

<span style="font-size: 90%;">This is a sane decision.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:15:53 UTC</span>

<span style="font-size: 90%;">We provide a solution, you can choose to install it or not. ¯\\\_(ツ)\_/¯</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:16:19 UTC</span>

<span style="font-size: 90%;">We must say that this might be fixed in a future engine patch.</span>

**xanadu** <span style="color: grey; font-size: 90%;">21:16:27 UTC</span>

<span style="font-size: 90%;">By providing a separate (rule set) patch?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:16:33 UTC</span>

<span style="font-size: 90%;">The vendor announced a fix to us. I do not see the imminent need to provide an alternative to that fix asap.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:16:50 UTC</span>

<span style="font-size: 90%;">yes, users expect that we take sane decision like prevent security design issue like this one that is impacting all known engine, regardless of big vendors but just trying to do the best thing for CRS. We're not a branch of the vendors.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:17:37 UTC</span>

<span style="font-size: 90%;">180 BB findings / 500+ individual bypasses > V3E</span>

**franbuehler** <span style="color: grey; font-size: 90%;">21:17:55 UTC</span>

<span style="font-size: 90%;">I have to go to bed, sorry. Good night.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:18:13 UTC</span>

<span style="font-size: 90%;">Do you stick with ALT2, _@franbuehler_?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:18:15 UTC</span>

<span style="font-size: 90%;">yes, most of them are rule bypass that suppose to exploit application vulnerabilities like eval($_GET["a"])</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:18:24 UTC</span>

<span style="font-size: 90%;">TBH, a waste of time for most of them</span>

**dune73** <span style="color: grey; font-size: 90%;">21:18:25 UTC</span>

<span style="font-size: 90%;">All of them?</span>

**franbuehler** <span style="color: grey; font-size: 90%;">21:18:26 UTC</span>

<span style="font-size: 90%;">Yes, I do!</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:18:32 UTC</span>

<span style="font-size: 90%;">not all, most of</span>

**dune73** <span style="color: grey; font-size: 90%;">21:19:31 UTC</span>

<span style="font-size: 90%;">So there might be important stuff that is not hitting the entire user base because we talk about this individual v3 problem?</span>

**jit** <span style="color: grey; font-size: 90%;">21:20:13 UTC</span>

<span style="font-size: 90%;">Alt 2 is better IMO. And, it seems that _@theMiddle_ himself agrees on [#3411](https://github.com/coreruleset/coreruleset/issues/#3411)</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:20:18 UTC</span>

<span style="font-size: 90%;">Wait, do we all agree that migrating to v4 is a big effort?</span>

**jit** <span style="color: grey; font-size: 90%;">21:20:45 UTC</span>

<span style="font-size: 90%;">Can we move on with other issues, it's getting late...</span>

**dune73** <span style="color: grey; font-size: 90%;">21:21:17 UTC</span>

<span style="font-size: 90%;">Sorry _@jit_, but this will take some time. No need to stay around though. Just state your preference.</span>

**xanadu** <span style="color: grey; font-size: 90%;">21:22:07 UTC</span>

<span style="font-size: 90%;">An explanatory blog post + patch set could be the least-bad idea. "A behaviour inconsistency has been discovered with an engine. The vendor promises a fix soon. In the meantime, you can use this patch set…"
But it does still feel wrong to release only a patch set for a potentially very bad bypass…
:shrug:</span>

**xanadu** <span style="color: grey; font-size: 90%;">21:22:34 UTC</span>

<span style="font-size: 90%;">And still 99% of people would not install a patch set, I think.</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:23:19 UTC</span>

<span style="font-size: 90%;">My point is, if v4 is a big effort anyway, then what are we talking about effort with V3E? It doesn't fundamentally change the amount of work (at least IMO).</span>

**dune73** <span style="color: grey; font-size: 90%;">21:23:26 UTC</span>

<span style="font-size: 90%;">They might deploy a detection rule, but a patch set that forces them to update existing rule exclusions across hundreds of services?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:24:30 UTC</span>

<span style="font-size: 90%;">if a user upgrade from 3.x to 4.0 he must anyway update his exclusion rules</span>

**dune73** <span style="color: grey; font-size: 90%;">21:24:36 UTC</span>

<span style="font-size: 90%;">But chances are the need for new V3E variables goes away. So it all becomes futile before they even start the migration and then we're stuck on a redundant set of variables that nobody understands.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:25:26 UTC</span>

<span style="font-size: 90%;">If CRS can chose between TX.request_filename_raw and REQUEST_FILENAME_RAW I think we should go with the latter. And I think that is a viable prospect.</span>

↳ **maxleske** <span style="color: grey; font-size: 90%;">21:27:04 UTC</span>

<span style="font-size: 90%;">This will only be true once all engines / versions are compatible. When will that be the case? The "big workaround" solves all that without us having to worry about it.</span>

↳ **dune73** <span style="color: grey; font-size: 90%;">21:28:24 UTC</span>

<span style="font-size: 90%;">I presume RAW would be incompatible across engines. Also since big workaround depends on REQUEST_URI_RAW being compatible</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:25:51 UTC</span>

<span style="font-size: 90%;">need to be sure about the value of a variable we inspect with 50+ rules is not something that goes away</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:25:55 UTC</span>

<span style="font-size: 90%;">Something that hasn't been addressed yet: the "big workaround" works regardless of the engine version.</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:27:04 UTC</span>

<span style="font-size: 90%;">This will only be true once all engines / versions are compatible. When will that be the case? The "big workaround" solves all that without us having to worry about it.</span>

↳ **maxleske** <span style="color: grey; font-size: 90%;">21:27:04 UTC</span>

<span style="font-size: 90%;">This will only be true once all engines / versions are compatible. When will that be the case? The "big workaround" solves all that without us having to worry about it.</span>

↳ **dune73** <span style="color: grey; font-size: 90%;">21:28:24 UTC</span>

<span style="font-size: 90%;">I presume RAW would be incompatible across engines. Also since big workaround depends on REQUEST_URI_RAW being compatible</span>

**dune73** <span style="color: grey; font-size: 90%;">21:27:26 UTC</span>

<span style="font-size: 90%;">So does ALT 1, and ALT2 after the fix.
Come March, all 3 options are the same, but ALT1 and ALT 2 can be easily removed and Big Workaround sticks around.</span>

**xanadu** <span style="color: grey; font-size: 90%;">21:27:45 UTC</span>

<span style="font-size: 90%;">True.</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:28:19 UTC</span>

<span style="font-size: 90%;">I don't see why that's a bad thing. It's not "sexy" but it's not bad</span>

↳ **airween** <span style="color: grey; font-size: 90%;">21:30:03 UTC</span>

<span style="font-size: 90%;">"It's not "sexy" but it's not bad" - "Internet Explorer 6's box model likes this"

if you know what I mean... :smile:</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:28:29 UTC</span>

<span style="font-size: 90%;">Agreed</span>

**dune73** <span style="color: grey; font-size: 90%;">21:28:41 UTC</span>

<span style="font-size: 90%;">I think it's bad.</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:28:41 UTC</span>

<span style="font-size: 90%;">And as I said, once we have transpilation, that's a non-issue</span>

↳ **fzipitria** <span style="color: grey; font-size: 90%;">21:30:11 UTC</span>

<span style="font-size: 90%;">Exactly</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:28:46 UTC</span>

<span style="font-size: 90%;">Why?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:30:12 UTC</span>

<span style="font-size: 90%;">Redundant variables, rules are harder to read, open question with regards to performance. And I am still not sure we have seen all the side effects it may cause. Finding the rule exclusion problem so late was a major bummer for me.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:30:45 UTC</span>

<span style="font-size: 90%;">Is there an open question about the performance still?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:30:51 UTC</span>

<span style="font-size: 90%;">nope</span>

**dune73** <span style="color: grey; font-size: 90%;">21:31:02 UTC</span>

<span style="font-size: 90%;">Measurements vary between 0.1% and 4%.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:31:05 UTC</span>

<span style="font-size: 90%;">we don't have a clue about how to test it :smile:</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:31:08 UTC</span>

<span style="font-size: 90%;">naaah</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:31:27 UTC</span>

<span style="font-size: 90%;">we tried to repeat the test in 3, and we got 3 different results completely different results</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:31:37 UTC</span>

<span style="font-size: 90%;">we're not ready to talk about performance test, come on</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:31:45 UTC</span>

<span style="font-size: 90%;">Agreed.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:31:53 UTC</span>

<span style="font-size: 90%;">That's why I said it's an open question.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:32:13 UTC</span>

<span style="font-size: 90%;">yes, like every other changes we made on rules</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:32:23 UTC</span>

<span style="font-size: 90%;">I would say that there is no noticeable performance hit on this change.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:33:03 UTC</span>

<span style="font-size: 90%;">I can not subscribe to that. It's a huge change. Maybe there is a performance hit on rule exclusions. We just do not know and nobody tested.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:33:27 UTC</span>

<span style="font-size: 90%;">And we tested others?</span>

**xanadu** <span style="color: grey; font-size: 90%;">21:33:29 UTC</span>

<span style="font-size: 90%;">For our own CRS containers, no noticeable performance degredation.
For self-compiled Apache: a question mark, _@dune73_ had some numbers that showed a performance hit.
For any other engine: big question mark :question:</span>

**xanadu** <span style="color: grey; font-size: 90%;">21:33:45 UTC</span>

<span style="font-size: 90%;">Third-party and cloud implementations: we have no idea, realistically.</span>

**xanadu** <span style="color: grey; font-size: 90%;">21:33:54 UTC</span>

<span style="font-size: 90%;">So, a mixed bag, it's fair to say, I think.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:34:13 UTC</span>

<span style="font-size: 90%;">We never tested performance for any rule addition before, TBH.</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:34:35 UTC</span>

<span style="font-size: 90%;">The JSON rule is probably a bigger issue in that sense (the one that Christian had brought up)</span>

**dune73** <span style="color: grey; font-size: 90%;">21:34:36 UTC</span>

<span style="font-size: 90%;">ALT 1 and ALT 2 are much clearer. Minimal effect. Detection rules are an overhead. But we can easily put them on PL2 or remove after the fix is released.</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:35:01 UTC</span>

<span style="font-size: 90%;">I don't agree with that. I think that the detection rule is much harder to read</span>

↳ **xanadu** <span style="color: grey; font-size: 90%;">21:36:00 UTC</span>

<span style="font-size: 90%;">Yes, but most of our regexes are very, very hard to read and understand.</span>

↳ **maxleske** <span style="color: grey; font-size: 90%;">21:36:14 UTC</span>

<span style="font-size: 90%;">true :slightly_smiling_face:</span>

↳ **xanadu** <span style="color: grey; font-size: 90%;">21:36:18 UTC</span>

<span style="font-size: 90%;">I'm not saying that's good :sweat_smile:</span>

**airween** <span style="color: grey; font-size: 90%;">21:35:29 UTC</span>

<span style="font-size: 90%;">why?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:35:35 UTC</span>

<span style="font-size: 90%;">I did not say I like the detection rule. At least it's only a small group of rules (1, 2 or 3 max).</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:35:43 UTC</span>

<span style="font-size: 90%;">I'm not saying you did a bad job!</span>

**dune73** <span style="color: grey; font-size: 90%;">21:35:58 UTC</span>

<span style="font-size: 90%;">No worries. I do not take this personal.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:36:44 UTC</span>

<span style="font-size: 90%;">Anyways. What do we do? We had 3 approaches and then _@fzipitria_ brought up a mixed proposal.</span>

↳ **jit** <span style="color: grey; font-size: 90%;">21:37:18 UTC</span>

<span style="font-size: 90%;">Let's count the opinions</span>

↳ **dune73** <span style="color: grey; font-size: 90%;">21:37:44 UTC</span>

<span style="font-size: 90%;">Slowly getting there. :slightly_smiling_face:</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:37:02 UTC</span>

<span style="font-size: 90%;">I have another proposal nobody will like...</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:37:03 UTC</span>

<span style="font-size: 90%;">:slightly_smiling_face:</span>

**dune73** <span style="color: grey; font-size: 90%;">21:37:06 UTC</span>

<span style="font-size: 90%;">Any need to continue the conversation?</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:37:10 UTC</span>

<span style="font-size: 90%;">Vacations?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:37:11 UTC</span>

<span style="font-size: 90%;">Don't ask us to postpone, please.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:37:12 UTC</span>

<span style="font-size: 90%;">lol</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:38:08 UTC</span>

<span style="font-size: 90%;">We could do both. We release 2 versions of v4.0, one with the big workaround, one with a detection rule. I don't like it myself.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:38:27 UTC</span>

<span style="font-size: 90%;">I do not like it either. :sweat_smile:</span>

**xanadu** <span style="color: grey; font-size: 90%;">21:38:27 UTC</span>

<span style="font-size: 90%;">v4.0a?</span>

↳ **airween** <span style="color: grey; font-size: 90%;">21:38:56 UTC</span>

<span style="font-size: 90%;">v4.0.0V3E? :smile:</span>

↳ **xanadu** <span style="color: grey; font-size: 90%;">21:39:07 UTC</span>

<span style="font-size: 90%;">Haha</span>

**dune73** <span style="color: grey; font-size: 90%;">21:38:40 UTC</span>

<span style="font-size: 90%;">It's effectively a fork, is not it?</span>

**Matteo Pace** <span style="color: grey; font-size: 90%;">21:38:56 UTC</span>

<span style="font-size: 90%;">And still 99% of people would not install a patch set, I think.What about the % of people that will update the engine after the release, or will update to a recent CRS with the patch embedded? Is the % always small enough and comparable?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:40:23 UTC</span>

<span style="font-size: 90%;">I think it will have an effect on v4 adoption. People will be puzzled and remain with what they have until the situation clears up. The more complex our decision, the more we postpone v4 and the more we postpone adoption of v4.</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:41:02 UTC</span>

<span style="font-size: 90%;">I agree. I would definitely try to find a single thing we do</span>

**dune73** <span style="color: grey; font-size: 90%;">21:41:03 UTC</span>

<span style="font-size: 90%;">Also if we offer options, what should distros do?</span>

**airween** <span style="color: grey; font-size: 90%;">21:41:51 UTC</span>

<span style="font-size: 90%;">IMHO distros have a (strict) policy, they will follow it...</span>

**dune73** <span style="color: grey; font-size: 90%;">21:42:30 UTC</span>

<span style="font-size: 90%;">What would that be in this case (if we release a patch via a blog, or v4 with multiple builds)?</span>

**airween** <span style="color: grey; font-size: 90%;">21:44:03 UTC</span>

<span style="font-size: 90%;">I would contact with Debian Security team - for official Debian packages. Perhaps they would open a CVE, and another story begins...

For DW repositories: I would create two separated packages, an "official" CRS v4.0, and a patched one with different name.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:44:50 UTC</span>

<span style="font-size: 90%;">OK. Time do take a vote then?</span>

**airween** <span style="color: grey; font-size: 90%;">21:45:35 UTC</span>

<span style="font-size: 90%;">Let's vote, if there is no other opinion</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:46:14 UTC</span>

<span style="font-size: 90%;">Distros can apply a patch, they do it all the time</span>

**unknown user** <span style="color: grey; font-size: 90%;">21:48:10 UTC</span>

<span style="font-size: 90%;">what to do (Choose one)</span>

**dune73** <span style="color: grey; font-size: 90%;">21:48:39 UTC</span>

<span style="font-size: 90%;">So ALT2 is wait for engine?</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:48:54 UTC</span>

<span style="font-size: 90%;">That was what you wrote, yes</span>

**dune73** <span style="color: grey; font-size: 90%;">21:49:00 UTC</span>

<span style="font-size: 90%;">OK.</span>

**Matteo Pace** <span style="color: grey; font-size: 90%;">21:49:19 UTC</span>

<span style="font-size: 90%;">felipe’s patch option?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:49:57 UTC</span>

<span style="font-size: 90%;">I think _@franbuehler_ opted for "wait for engine fix too", did not she?</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:50:00 UTC</span>

<span style="font-size: 90%;">My option isn't there</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:50:11 UTC</span>

<span style="font-size: 90%;">Sorry. _@dune73_ yes</span>

**xanadu** <span style="color: grey; font-size: 90%;">21:50:14 UTC</span>

<span style="font-size: 90%;">Start over?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:50:29 UTC</span>

<span style="font-size: 90%;">I did not create this vote. I had one ready with your option @fzipi, but then somebody posted this.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:50:43 UTC</span>

<span style="font-size: 90%;">Who posted this?</span>

**unknown user** <span style="color: grey; font-size: 90%;">21:50:46 UTC</span>

<span style="font-size: 90%;">what to do (Choose one)</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:50:59 UTC</span>

<span style="font-size: 90%;">I did</span>

**emphazer** <span style="color: grey; font-size: 90%;">21:51:53 UTC</span>

<span style="font-size: 90%;">Pls guys, don’t do the fault and release a minor,version like v4 with a known bug. Or did I misunderstand something?</span>

**xanadu** <span style="color: grey; font-size: 90%;">21:51:55 UTC</span>

<span style="font-size: 90%;">Ok, so you can only press once. I guess we mentally add +1 for Franziska</span>

↳ **airween** <span style="color: grey; font-size: 90%;">21:52:29 UTC</span>

<span style="font-size: 90%;">and jit</span>

↳ **xanadu** <span style="color: grey; font-size: 90%;">21:52:44 UTC</span>

<span style="font-size: 90%;">Good point</span>

↳ **jit** <span style="color: grey; font-size: 90%;">21:53:30 UTC</span>

<span style="font-size: 90%;">:sweat_smile:</span>

**dune73** <span style="color: grey; font-size: 90%;">21:52:28 UTC</span>

<span style="font-size: 90%;">Everybody voted?</span>

**airween** <span style="color: grey; font-size: 90%;">21:52:29 UTC</span>

<span style="font-size: 90%;">and jit</span>

↳ **airween** <span style="color: grey; font-size: 90%;">21:52:29 UTC</span>

<span style="font-size: 90%;">and jit</span>

↳ **xanadu** <span style="color: grey; font-size: 90%;">21:52:44 UTC</span>

<span style="font-size: 90%;">Good point</span>

↳ **jit** <span style="color: grey; font-size: 90%;">21:53:30 UTC</span>

<span style="font-size: 90%;">:sweat_smile:</span>

**dune73** <span style="color: grey; font-size: 90%;">21:52:49 UTC</span>

<span style="font-size: 90%;">_@jit_: are you still around and did you vote?</span>

↳ **jit** <span style="color: grey; font-size: 90%;">21:53:48 UTC</span>

<span style="font-size: 90%;">Yes</span>

**airween** <span style="color: grey; font-size: 90%;">21:53:06 UTC</span>

<span style="font-size: 90%;">seems he is offline</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:53:10 UTC</span>

<span style="font-size: 90%;">_@theMiddle_ did you vote the second time? I'm the only one who favors the big one :smile:</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:53:24 UTC</span>

<span style="font-size: 90%;">_@jit_ voted for ALT2</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:53:28 UTC</span>

<span style="font-size: 90%;">yep</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:53:48 UTC</span>

<span style="font-size: 90%;">I can't see who vote for what</span>

**dune73** <span style="color: grey; font-size: 90%;">21:53:51 UTC</span>

<span style="font-size: 90%;">I see 2 votes for the big one.</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:53:59 UTC</span>

<span style="font-size: 90%;">One's me</span>

**dune73** <span style="color: grey; font-size: 90%;">21:54:17 UTC</span>

<span style="font-size: 90%;">So the other is _@theMiddle_ then.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:54:33 UTC</span>

<span style="font-size: 90%;">But we do not need to know, I guess.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:54:34 UTC</span>

<span style="font-size: 90%;">I voted for the patch, but in the end is the big workaround and then revert</span>

**dune73** <span style="color: grey; font-size: 90%;">21:54:57 UTC</span>

<span style="font-size: 90%;">Yes, that's how I read it.</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:55:10 UTC</span>

<span style="font-size: 90%;">Great.... so 4:4...</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:55:13 UTC</span>

<span style="font-size: 90%;">:satisfied:</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:55:17 UTC</span>

<span style="font-size: 90%;">I think a public vote works better but still</span>

**dune73** <span style="color: grey; font-size: 90%;">21:55:26 UTC</span>

<span style="font-size: 90%;">Let's not do it again, please.</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:55:37 UTC</span>

<span style="font-size: 90%;">Ah no, 6:4</span>

**maxleske** <span style="color: grey; font-size: 90%;">21:55:45 UTC</span>

<span style="font-size: 90%;">I forgot to add _@jit_ and _@franbuehler_.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:56:27 UTC</span>

<span style="font-size: 90%;">so we chose to disclose before fix</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:56:30 UTC</span>

<span style="font-size: 90%;">am I getting it right?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:56:44 UTC</span>

<span style="font-size: 90%;">This was not part of the decision.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:56:52 UTC</span>

<span style="font-size: 90%;">no indeed</span>

**xanadu** <span style="color: grey; font-size: 90%;">21:56:55 UTC</span>

<span style="font-size: 90%;">Well, 5:2:2</span>

**dune73** <span style="color: grey; font-size: 90%;">21:56:58 UTC</span>

<span style="font-size: 90%;">With our current pace, v4 will come after the fix.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:57:13 UTC</span>

<span style="font-size: 90%;">I'm talking about V3E disclosure</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:57:18 UTC</span>

<span style="font-size: 90%;">the 4 years old vuln</span>

**xanadu** <span style="color: grey; font-size: 90%;">21:57:24 UTC</span>

<span style="font-size: 90%;">Preference voting might have changed things, but… so complex.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:57:32 UTC</span>

<span style="font-size: 90%;">Very complex.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:59:26 UTC</span>

<span style="font-size: 90%;">Do you want to disclose over Christmas / new year, or would you wait until early 2024?
I mean you are free to disclose separate from the project. As a project, I would prefer not to disclose in coming weeks.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">22:00:16 UTC</span>

<span style="font-size: 90%;">disclosing separate from the project and at the same time stay inside the project is not an option, it seems obvious to me</span>

**dune73** <span style="color: grey; font-size: 90%;">22:01:41 UTC</span>

<span style="font-size: 90%;">Not necessarily from my point of view. You do what you have to do.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:02:36 UTC</span>

<span style="font-size: 90%;">But there are a lot of different constraints that play into this. And if you want to disclose separately without waiting for TW, but are still willing to talk to CRS, there are various options I think. I'd just prefer not the go over all of this tonight.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">22:03:44 UTC</span>

<span style="font-size: 90%;">I don't know how this works.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">22:03:55 UTC</span>

<span style="font-size: 90%;">You cannot disclose if you don't give people a fix, right?</span>

**Matteo Pace** <span style="color: grey; font-size: 90%;">22:03:55 UTC</span>

<span style="font-size: 90%;">Is it really unreasonable to disclosure it (early jan?) providing a patch? Up to date users will evaluate the issue and decide to apply it or not. When v4 will be released there will be updates about the usefulness of the patch or not.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:04:16 UTC</span>

<span style="font-size: 90%;">(brief version: A separate disclosure would probably force us to release the detection rules as a fix)</span>

**fzipitria** <span style="color: grey; font-size: 90%;">22:04:29 UTC</span>

<span style="font-size: 90%;">In the end you are doing my option :smile:</span>

**dune73** <span style="color: grey; font-size: 90%;">22:04:52 UTC</span>

<span style="font-size: 90%;">But maybe not.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:05:09 UTC</span>

<span style="font-size: 90%;">It's complicated and it takes time to think this through. There are multiple scenarios.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">22:06:42 UTC</span>

<span style="font-size: 90%;">I'll not give the vendor the chance to fix the problem without underline their incompetence, and all the other related security issue not fixed by the security release they will publish on Feb</span>

**fzipitria** <span style="color: grey; font-size: 90%;">22:07:37 UTC</span>

<span style="font-size: 90%;">How is that going to change the results?</span>

**fzipitria** <span style="color: grey; font-size: 90%;">22:08:09 UTC</span>

<span style="font-size: 90%;">We are all frustrated about that vendor/project since a long time ago</span>

**dune73** <span style="color: grey; font-size: 90%;">22:08:29 UTC</span>

<span style="font-size: 90%;">And we welcome the vendor is on the way out. Nothing to prove.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:09:12 UTC</span>

<span style="font-size: 90%;">We still have two items on the agenda. OK if we continue?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">22:10:26 UTC</span>

<span style="font-size: 90%;">the vendor will do what they always do. Releasing with their time, writing a blog post in which they say "we patched this, thanks." and nobody will know the implication of the other v2 bug, nor the fact that they know about this vuln from 4 years</span>

**theMiddle** <span style="color: grey; font-size: 90%;">22:10:35 UTC</span>

<span style="font-size: 90%;">and I'll not let this happen.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:11:00 UTC</span>

<span style="font-size: 90%;">-> PR [#3411](https://github.com/coreruleset/coreruleset/issues/#3411).</span>

**dune73** <span style="color: grey; font-size: 90%;">22:12:43 UTC</span>

<span style="font-size: 90%;">Also nothing wrong with describing the bug and timeline and CVE and everything.</span>

↳ **Matteo Pace** <span style="color: grey; font-size: 90%;">22:13:55 UTC</span>

<span style="font-size: 90%;">Alongside what? Just a blog post? A blogpost with a workaround/patch?</span>

↳ **Matteo Pace** <span style="color: grey; font-size: 90%;">22:14:13 UTC</span>

<span style="font-size: 90%;">Ok, got you, “only after the fix” is your point</span>

↳ **dune73** <span style="color: grey; font-size: 90%;">22:14:46 UTC</span>

<span style="font-size: 90%;">Blog post and CVE asking users and distros to adopt the engine fixes.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:13:27 UTC</span>

<span style="font-size: 90%;">I also think CRS should do that. Given all the energy we put into this discussion.
But in my preference, only after TW released their fix.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:15:15 UTC</span>

<span style="font-size: 90%;">I suggest we move to PR 3201.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:15:29 UTC</span>

<span style="font-size: 90%;">_@theMiddle_ invested a lot of time into a group of tests in [#3201](https://github.com/coreruleset/coreruleset/issues/#3201), but we never merged and in the meantime re-arranged the rules that these tests are meant to cover and we have a huge merge conflict now. What do we do?</span>

**dune73** <span style="color: grey; font-size: 90%;">22:16:01 UTC</span>

<span style="font-size: 90%;">It's labelled for v4 and I think this could be one of the roadblocks.</span>

**maxleske** <span style="color: grey; font-size: 90%;">22:17:51 UTC</span>

<span style="font-size: 90%;">Merging / rebasing doesn't make much sense. We need to pick the individual changes. I can do it, unless _@theMiddle_ wants to pick it up again.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:19:14 UTC</span>

<span style="font-size: 90%;">Ah, I see him type...</span>

**theMiddle** <span style="color: grey; font-size: 90%;">22:20:58 UTC</span>

<span style="font-size: 90%;">Is the PR with a lot of conflicts, isn't it? I think I need to redo it from scratch</span>

**maxleske** <span style="color: grey; font-size: 90%;">22:21:19 UTC</span>

<span style="font-size: 90%;">Yes, the rules have been changed</span>

**dune73** <span style="color: grey; font-size: 90%;">22:21:21 UTC</span>

<span style="font-size: 90%;">It's a lot of work.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:22:26 UTC</span>

<span style="font-size: 90%;">Do you think you can do that, or do we skip this for v4?</span>

**dune73** <span style="color: grey; font-size: 90%;">22:22:34 UTC</span>

<span style="font-size: 90%;">I do not really know how important it is.</span>

**Matteo Pace** <span style="color: grey; font-size: 90%;">22:23:11 UTC</span>

<span style="font-size: 90%;">I see only one conflict in the rule itself (and likely it is about keeping the master one), it is more about conflicts in the tests that have been moved/renamed</span>

**maxleske** <span style="color: grey; font-size: 90%;">22:24:19 UTC</span>

<span style="font-size: 90%;">Having the tests would be nice but not really a blocker, IMO. There's one change, however, that I think we should include and that's a mistake in a regex _@theMiddle_ and I discovered as part of that PR.</span>

**maxleske** <span style="color: grey; font-size: 90%;">22:25:07 UTC</span>

<span style="font-size: 90%;">Do you agree that we split the PR and just fix the regex for v4?</span>

**dune73** <span style="color: grey; font-size: 90%;">22:26:14 UTC</span>

<span style="font-size: 90%;">That would be most elegant.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:26:45 UTC</span>

<span style="font-size: 90%;">So we close this PR and you guys open 2 new ones, 1 for v4 and 1 for whenever you are ready?</span>

**Matteo Pace** <span style="color: grey; font-size: 90%;">22:26:59 UTC</span>

<span style="font-size: 90%;">I can try to go through the tests, but let’s split it into two PRs</span>

**maxleske** <span style="color: grey; font-size: 90%;">22:27:26 UTC</span>

<span style="font-size: 90%;">Thanks _@Matteo Pace_. I've recorded the decision.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:28:32 UTC</span>

<span style="font-size: 90%;">Very good.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:28:54 UTC</span>

<span style="font-size: 90%;">Finally: A ping on the support for various versions in the sandbox. Any news?</span>

↳ **theMiddle** <span style="color: grey; font-size: 90%;">22:32:28 UTC</span>

<span style="font-size: 90%;">No news, but given the actual status I think it has a very low priority</span>

**dune73** <span style="color: grey; font-size: 90%;">22:29:39 UTC</span>

<span style="font-size: 90%;">Btw: _@xanadu_ stated he is still working on the quantitative testing script. Promises to submit later this week. (correct _@xanadu_?)</span>

**jit** <span style="color: grey; font-size: 90%;">22:30:18 UTC</span>

<span style="font-size: 90%;">Goodnight everyone :sleeping:</span>

**xanadu** <span style="color: grey; font-size: 90%;">22:31:22 UTC</span>

<span style="font-size: 90%;">Yes, that's right.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:31:40 UTC</span>

<span style="font-size: 90%;">Thanks for joining _@jit_</span>

**dune73** <span style="color: grey; font-size: 90%;">22:32:23 UTC</span>

<span style="font-size: 90%;">Well, it's getting late I guess. Anything we still need to talk about?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">22:32:28 UTC</span>

<span style="font-size: 90%;">No news, but given the actual status I think it has a very low priority</span>

↳ **theMiddle** <span style="color: grey; font-size: 90%;">22:32:28 UTC</span>

<span style="font-size: 90%;">No news, but given the actual status I think it has a very low priority</span>

**dune73** <span style="color: grey; font-size: 90%;">22:33:01 UTC</span>

<span style="font-size: 90%;">Thank you.</span>

**maxleske** <span style="color: grey; font-size: 90%;">22:33:25 UTC</span>

<span style="font-size: 90%;">Good night guys!</span>

**airween** <span style="color: grey; font-size: 90%;">22:34:22 UTC</span>

<span style="font-size: 90%;">any other issues?</span>

**dune73** <span style="color: grey; font-size: 90%;">22:34:50 UTC</span>

<span style="font-size: 90%;">Good night everybody. And thank you for attending.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:35:02 UTC</span>

<span style="font-size: 90%;">That was a long one. But we have a decision at last.</span>

**airween** <span style="color: grey; font-size: 90%;">22:35:25 UTC</span>

<span style="font-size: 90%;">good night to everyone!</span>

**xanadu** <span style="color: grey; font-size: 90%;">22:35:33 UTC</span>

<span style="font-size: 90%;">Good night!</span>

**xanadu** <span style="color: grey; font-size: 90%;">22:35:53 UTC</span>

<span style="font-size: 90%;">Have a very Merry Christmas and a Happy New Year, everyone :smile: :christmas_tree:</span>

**dune73** <span style="color: grey; font-size: 90%;">22:37:05 UTC</span>

<span style="font-size: 90%;">Thank you!</span>

**emphazer** <span style="color: grey; font-size: 90%;">22:37:29 UTC</span>

<span style="font-size: 90%;">Good night</span>

**Matteo Pace** <span style="color: grey; font-size: 90%;">22:38:13 UTC</span>

<span style="font-size: 90%;">Happy Holidays everyone, night!</span>

