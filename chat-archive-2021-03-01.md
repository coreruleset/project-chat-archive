### Mon, Mar 1st, 2021

**dune73** <span style="color: grey; font-size: 90%;">19:31:00 UTC</span>

<span style="font-size: 90%;">Hello! It's CRS chat time.</span>

**walter** <span style="color: grey; font-size: 90%;">19:31:09 UTC</span>

<span style="font-size: 90%;">hello!</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:31:14 UTC</span>

<span style="font-size: 90%;">Hi :wave:</span>

**dune73** <span style="color: grey; font-size: 90%;">19:31:37 UTC</span>

<span style="font-size: 90%;">Welcome everybody! Good to see you all.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:31:58 UTC</span>

<span style="font-size: 90%;">And nice that _@Emile_ and _@Christian Treutler_ are also around.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:32:23 UTC</span>

<span style="font-size: 90%;">_@fzipitria_ tells me he is close, but we need to ping him since he is engaged in meetings ...</span>

**airween** <span style="color: grey; font-size: 90%;">19:32:29 UTC</span>

<span style="font-size: 90%;">hi there!</span>

**dune73** <span style="color: grey; font-size: 90%;">19:32:36 UTC</span>

<span style="font-size: 90%;">Hello _@airween_!</span>

**dune73** <span style="color: grey; font-size: 90%;">19:33:45 UTC</span>

<span style="font-size: 90%;">Wonder if _@theMiddle_ is on a good internet connection and able to join us too. :slightly_smiling_face:</span>

**dune73** <span style="color: grey; font-size: 90%;">19:34:01 UTC</span>

<span style="font-size: 90%;">And whether _@emphazer_ and _@csanders_ are joining too.</span>

**csanders** <span style="color: grey; font-size: 90%;">19:34:12 UTC</span>

<span style="font-size: 90%;">hiii</span>

**dune73** <span style="color: grey; font-size: 90%;">19:36:03 UTC</span>

<span style="font-size: 90%;">So how is everybody keeping up with the Corona blues? We're in an ongoign lockdown in Switzerland and I am really hating home office more and more...</span>

**azurIt** <span style="color: grey; font-size: 90%;">19:36:22 UTC</span>

<span style="font-size: 90%;">Hi, sorry, i can be here only for a while.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:36:42 UTC</span>

<span style="font-size: 90%;">Hi _@azurIt_! Cool you are here, at least for a while. :slightly_smiling_face:</span>

**airween** <span style="color: grey; font-size: 90%;">19:37:17 UTC</span>

<span style="font-size: 90%;">I think here we just start the lockdown in next days... but until now there isn't any official news</span>

**Emile** <span style="color: grey; font-size: 90%;">19:37:25 UTC</span>

<span style="font-size: 90%;">I think the right word is “coping” :sweat_smile: I think I have been at the office 2-3 weeks combined over the last year</span>

**Emile** <span style="color: grey; font-size: 90%;">19:37:41 UTC</span>

<span style="font-size: 90%;">Things are a mess in France</span>

**airween** <span style="color: grey; font-size: 90%;">19:38:04 UTC</span>

<span style="font-size: 90%;">2-3 weeks? we've quits the office :stuck_out_tongue:</span>

**azurIt** <span style="color: grey; font-size: 90%;">19:38:12 UTC</span>

<span style="font-size: 90%;">I'm working from home for 15 years now :slightly_smiling_face: no matter about corona.</span>

**airween** <span style="color: grey; font-size: 90%;">19:38:14 UTC</span>

<span style="font-size: 90%;">in last March</span>

**Emile** <span style="color: grey; font-size: 90%;">19:39:19 UTC</span>

<span style="font-size: 90%;">don’t know for where you’re based, but we had a brief relaxation in summer last year, but it snapped back shut in september</span>

**walter** <span style="color: grey; font-size: 90%;">19:39:45 UTC</span>

<span style="font-size: 90%;">same here!</span>

**walter** <span style="color: grey; font-size: 90%;">19:39:52 UTC</span>

<span style="font-size: 90%;">we have a curfew for the first time now too</span>

**dune73** <span style="color: grey; font-size: 90%;">19:39:57 UTC</span>

<span style="font-size: 90%;">We closed down in several steps from early winter.</span>

**walter** <span style="color: grey; font-size: 90%;">19:40:10 UTC</span>

<span style="font-size: 90%;">normally I would be doing my daily pre-curfew walkabout now, which helps</span>

**dune73** <span style="color: grey; font-size: 90%;">19:40:12 UTC</span>

<span style="font-size: 90%;">Curfew? Wow! That's frightening.</span>

**walter** <span style="color: grey; font-size: 90%;">19:40:27 UTC</span>

<span style="font-size: 90%;">I think it’s the same in France, it’s to cut down on movements</span>

**Emile** <span style="color: grey; font-size: 90%;">19:40:40 UTC</span>

<span style="font-size: 90%;">We’ve been in curfew for months at this point. Used to be 8PM, now 6PM</span>

**Emile** <span style="color: grey; font-size: 90%;">19:40:44 UTC</span>

<span style="font-size: 90%;">It’s awful</span>

**airween** <span style="color: grey; font-size: 90%;">19:41:01 UTC</span>

<span style="font-size: 90%;">here is a special curfew: after 8PM we can't go out till 5AM</span>

**azurIt** <span style="color: grey; font-size: 90%;">19:41:45 UTC</span>

<span style="font-size: 90%;">_@airween_ same here</span>

**dune73** <span style="color: grey; font-size: 90%;">19:41:57 UTC</span>

<span style="font-size: 90%;">I see, theregulation in Switzerland is much better than with you guys.</span>

**walter** <span style="color: grey; font-size: 90%;">19:42:15 UTC</span>

<span style="font-size: 90%;">meanwhile the infection numbers are not going down, most people are tired and rebellious, there is really not a lot of harmony in society</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:42:39 UTC</span>

<span style="font-size: 90%;">hi all!</span>

**dune73** <span style="color: grey; font-size: 90%;">19:42:47 UTC</span>

<span style="font-size: 90%;">Yes, I really hope vaccination bring about a change.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:42:48 UTC</span>

<span style="font-size: 90%;">little bit.late</span>

**dune73** <span style="color: grey; font-size: 90%;">19:43:05 UTC</span>

<span style="font-size: 90%;">Hey _@theMiddle_! Good to see you. We just complained that we do not like Covid.</span>

**walter** <span style="color: grey; font-size: 90%;">19:43:26 UTC</span>

<span style="font-size: 90%;">oh yes, it is starting to. infection rates in vaccinated old persons are dropping dramatically. can’t wait to get mine!</span>

**dune73** <span style="color: grey; font-size: 90%;">19:43:49 UTC</span>

<span style="font-size: 90%;">My wife has been schedule for the end of the week. I'm so jealous. :slightly_smiling_face:</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:44:01 UTC</span>

<span style="font-size: 90%;">oh yes :/ here in italy today we have closed all again (orange zone)</span>

**dune73** <span style="color: grey; font-size: 90%;">19:45:07 UTC</span>

<span style="font-size: 90%;">So the agenda for tonight is at [https://github.com/coreruleset/coreruleset/issues/2008](https://github.com/coreruleset/coreruleset/issues/2008)</span>

**walter** <span style="color: grey; font-size: 90%;">19:45:15 UTC</span>

<span style="font-size: 90%;">there is tentative good news released about vaccinated persons potentially transmitting the virus: that seems to be dramatically lower as well - so in other words hugging other vaccinated persons would be safe and among vaccinated crowds life should be able to become a lot more normal</span>

**walter** <span style="color: grey; font-size: 90%;">19:45:57 UTC</span>

<span style="font-size: 90%;">okay agendaaa time!</span>

**dune73** <span style="color: grey; font-size: 90%;">19:46:20 UTC</span>

<span style="font-size: 90%;">So there are two blog posts that touched on CRS.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:46:43 UTC</span>

<span style="font-size: 90%;">If you have anything that mentioned us, then please provide the links so we can add them to the agenda for future reference.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:47:05 UTC</span>

<span style="font-size: 90%;">It's a lot easier than pushing out monthly news (that were 2-3h of work every month).</span>

**dune73** <span style="color: grey; font-size: 90%;">19:47:25 UTC</span>

<span style="font-size: 90%;">If you ever want to start the agenda "issue" yourself, I have linked a new template from tonight's agenda.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:48:12 UTC</span>

<span style="font-size: 90%;">And finally in this section, I recorded a podcast today with Josh Amishav who used to work on CRS2 with Ryan Barnett. He invited me on his show. This will be published on Friday.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:48:51 UTC</span>

<span style="font-size: 90%;">And before I forget: NGINX and I coordinated to publish the sponsorship announcement on Friday too.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:49:26 UTC</span>

<span style="font-size: 90%;">This is an important step from my perspective because it allows me to approach other potential sponsors - and we can then actually start to spend the money in good conscience. :slightly_smiling_face:</span>

**dune73** <span style="color: grey; font-size: 90%;">19:50:41 UTC</span>

<span style="font-size: 90%;">We have merged 16 PRs in February, that's almost on par with the 19 for January so we have quite an impressive pace these days.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:51:10 UTC</span>

<span style="font-size: 90%;">Let's look at the open ones that we need to cover here.</span>

**emphazer** <span style="color: grey; font-size: 90%;">19:51:18 UTC</span>

<span style="font-size: 90%;">hello everybody.  sorry I'm late</span>

**dune73** <span style="color: grey; font-size: 90%;">19:51:32 UTC</span>

<span style="font-size: 90%;">Hello _@emphazer_, great to have you here too!</span>

**dune73** <span style="color: grey; font-size: 90%;">19:52:27 UTC</span>

<span style="font-size: 90%;">[#1986](https://github.com/coreruleset/coreruleset/issues/#1986) needs a reviewer that is interested in digging into this a bit.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:53:03 UTC</span>

<span style="font-size: 90%;">And you need to look at the lua stuff too...</span>

**dune73** <span style="color: grey; font-size: 90%;">19:55:15 UTC</span>

<span style="font-size: 90%;">I see few volunteers ...</span>

**walter** <span style="color: grey; font-size: 90%;">19:55:18 UTC</span>

<span style="font-size: 90%;">I’m interested but it looks like a bit of work, especially as I don’t have Lua, I don’t think I can fit it in this month, sorry</span>

**walter** <span style="color: grey; font-size: 90%;">19:56:04 UTC</span>

<span style="font-size: 90%;">having a deadline for a big migration coming up this month, April should be better</span>

**azurIt** <span style="color: grey; font-size: 90%;">19:56:27 UTC</span>

<span style="font-size: 90%;">Should i rewrite this into plugin later?</span>

**azurIt** <span style="color: grey; font-size: 90%;">19:56:50 UTC</span>

<span style="font-size: 90%;">I suppose it won't be accepted into main CRS because of Lua.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:57:14 UTC</span>

<span style="font-size: 90%;">Yes, it's going to be a plugin eventually, but I think the functionality can be reviewed now as well.</span>

**airween** <span style="color: grey; font-size: 90%;">19:57:23 UTC</span>

<span style="font-size: 90%;">hmm... it's seems a pretty fine task, I'll review that</span>

**dune73** <span style="color: grey; font-size: 90%;">19:57:28 UTC</span>

<span style="font-size: 90%;">Yet if Walter volunteers to do this in April, then ...</span>

**dune73** <span style="color: grey; font-size: 90%;">19:57:30 UTC</span>

<span style="font-size: 90%;">Ah, cool.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:57:34 UTC</span>

<span style="font-size: 90%;">Thank you _@airween_!</span>

**dune73** <span style="color: grey; font-size: 90%;">19:57:51 UTC</span>

<span style="font-size: 90%;">_@franbuehler_, are you writing down our decisions? Highly welcome. :slightly_smiling_face:</span>

**airween** <span style="color: grey; font-size: 90%;">19:58:02 UTC</span>

<span style="font-size: 90%;">I'll ping _@azurIt_ if I stuck :stuck_out_tongue:</span>

**azurIt** <span style="color: grey; font-size: 90%;">19:58:09 UTC</span>

<span style="font-size: 90%;">ok</span>

**airween** <span style="color: grey; font-size: 90%;">19:59:02 UTC</span>

<span style="font-size: 90%;">if it will be usable, I can integrate it for out the Debian packages! :slightly_smiling_face:</span>

**dune73** <span style="color: grey; font-size: 90%;">19:59:42 UTC</span>

<span style="font-size: 90%;">Let's move to PR 2000. _@theMiddle_ tries to work around FPs in 933210.</span>

↳ **Emile** <span style="color: grey; font-size: 90%;">20:02:26 UTC</span>

<span style="font-size: 90%;">I’m planning on collecting real world data on 2000, will update the PR if still opened by mid week</span>

**dune73** <span style="color: grey; font-size: 90%;">19:59:48 UTC</span>

<span style="font-size: 90%;">This needs a review too.</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:59:50 UTC</span>

<span style="font-size: 90%;">Yes, I will do. After I opened a new PR 2023 that fixes one of my former PRs 2013 :see_no_evil:</span>

**walter** <span style="color: grey; font-size: 90%;">20:00:31 UTC</span>

<span style="font-size: 90%;">I can review 2000</span>

**dune73** <span style="color: grey; font-size: 90%;">20:01:22 UTC</span>

<span style="font-size: 90%;">Thank you _@franbuehler_, let's wait for the tests to pass.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:01:29 UTC</span>

<span style="font-size: 90%;">And thanks _@walter_!</span>

**dune73** <span style="color: grey; font-size: 90%;">20:01:50 UTC</span>

<span style="font-size: 90%;">And then 2014, which is another fix for an FP.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:02:23 UTC</span>

<span style="font-size: 90%;">_@franbuehler_, could you elaborate a bit why us use this approach? Maybe also what approach ...</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:03:03 UTC</span>

<span style="font-size: 90%;">Ok.... Preparing the agenda... I have to look at this... one moment</span>

**dune73** <span style="color: grey; font-size: 90%;">20:04:41 UTC</span>

<span style="font-size: 90%;">Sure</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:05:26 UTC</span>

<span style="font-size: 90%;">Ok... I didn't find an easy solution for this false positives with Russian letters and German umlaute.
And I think this rule as it is now is too strict to be on paranoia level 1.
Therefore I propose to move it to PL2.</span>

**Emile** <span style="color: grey; font-size: 90%;">20:05:40 UTC</span>

<span style="font-size: 90%;">Hum, we had similarly flagged 941310 as problematic, although this was caused by encoding issues iirc</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:05:56 UTC</span>

<span style="font-size: 90%;">Yes, it's an encoding issue...</span>

**Emile** <span style="color: grey; font-size: 90%;">20:06:03 UTC</span>

<span style="font-size: 90%;">there might be a latin1 → utf8 snafu somewhere in modsecurity</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:06:53 UTC</span>

<span style="font-size: 90%;">Maybe someone else has a better solution. I'm open to it.
I didn't find a solution and moved the entire rule.</span>

**walter** <span style="color: grey; font-size: 90%;">20:07:14 UTC</span>

<span style="font-size: 90%;">sounds fair. I have not run into FPs with 941310 myself but it could be that we don’t have any Russian/German traffic</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:07:14 UTC</span>

<span style="font-size: 90%;">A bit more is explained in the linked issue: v</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:07:16 UTC</span>

<span style="font-size: 90%;">[https://github.com/coreruleset/coreruleset/issues/1942](https://github.com/coreruleset/coreruleset/issues/1942)</span>

**walter** <span style="color: grey; font-size: 90%;">20:07:43 UTC</span>

<span style="font-size: 90%;">if this solves all the weird problems with Russian users it would be great moving it to PL2</span>

**walter** <span style="color: grey; font-size: 90%;">20:07:57 UTC</span>

<span style="font-size: 90%;">I think we have received 5+ bugs about that…</span>

**azurIt** <span style="color: grey; font-size: 90%;">20:08:26 UTC</span>

<span style="font-size: 90%;">I was happy for this rule as it is blocking russian spam-commenting bots :slightly_smiling_face:</span>

↳ **franbuehler** <span style="color: grey; font-size: 90%;">20:08:48 UTC</span>

<span style="font-size: 90%;">Oh no!!</span>

**Emile** <span style="color: grey; font-size: 90%;">20:08:42 UTC</span>

<span style="font-size: 90%;">yeah, an ideal fix would likely be to hunt down the encoding snafu, but likely not worth it</span>

**dune73** <span style="color: grey; font-size: 90%;">20:08:46 UTC</span>

<span style="font-size: 90%;">But it's a bit like a workaround, not really a solution.
Yet, if I am reading this correctly, this is more of a ModSec problem than us not being UTF8 sensitive.</span>

↳ **franbuehler** <span style="color: grey; font-size: 90%;">20:09:08 UTC</span>

<span style="font-size: 90%;">Yes!</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:08:48 UTC</span>

<span style="font-size: 90%;">Oh no!!</span>

↳ **franbuehler** <span style="color: grey; font-size: 90%;">20:08:48 UTC</span>

<span style="font-size: 90%;">Oh no!!</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:09:08 UTC</span>

<span style="font-size: 90%;">Yes!</span>

↳ **franbuehler** <span style="color: grey; font-size: 90%;">20:09:08 UTC</span>

<span style="font-size: 90%;">Yes!</span>

**dune73** <span style="color: grey; font-size: 90%;">20:09:39 UTC</span>

<span style="font-size: 90%;">And if it's in Russian, how do other non-latin languages work with ModSec / CRS. This is a bit of a mystery to me.</span>

**Emile** <span style="color: grey; font-size: 90%;">20:09:57 UTC</span>

<span style="font-size: 90%;">Hum, I think it’s really that this is a UTF-8 rule when neither CRS nor ModSec provide any requirement/guarantee about encoding. When we had to provide them, it became very expensive very quickly</span>

**Emile** <span style="color: grey; font-size: 90%;">20:10:53 UTC</span>

<span style="font-size: 90%;">iirc, it’s just the collision of the two UTF-8 characters in the regex with the corresponding characters in the latin1 charset</span>

**dune73** <span style="color: grey; font-size: 90%;">20:11:27 UTC</span>

<span style="font-size: 90%;">Can you explain this a bit slower, _@Emile_. I do not yet get the collision part.</span>

**Emile** <span style="color: grey; font-size: 90%;">20:12:26 UTC</span>

<span style="font-size: 90%;">Sorry, UTF-8 and latin1 are conventions on how to interpret arrays of bytes into IDs, which can then be matched in a standard table</span>

**Emile** <span style="color: grey; font-size: 90%;">20:12:43 UTC</span>

<span style="font-size: 90%;">(like ASCII, but for a few millions characters)</span>

**Emile** <span style="color: grey; font-size: 90%;">20:13:20 UTC</span>

<span style="font-size: 90%;">meaning the same byte sequence can be converted into two different IDs, or even the same ID can be matched into two different tables</span>

**Emile** <span style="color: grey; font-size: 90%;">20:14:00 UTC</span>

<span style="font-size: 90%;">I think latin1, just like UTF-8 are using Unicode for the table, but are interpreting byte sequences differently</span>

**dune73** <span style="color: grey; font-size: 90%;">20:14:06 UTC</span>

<span style="font-size: 90%;">OK. Getting there. So ModSec is purely ascii based and when you have funny multibyte UTF-8 characters, an ascii regex can get hit.</span>

**Emile** <span style="color: grey; font-size: 90%;">20:14:33 UTC</span>

<span style="font-size: 90%;">yeah, but the client is very much aware of whether it’s sending UTF-8 or latin1</span>

**dune73** <span style="color: grey; font-size: 90%;">20:14:33 UTC</span>

<span style="font-size: 90%;">Collateral damage so to say.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:14:54 UTC</span>

<span style="font-size: 90%;">But ModSec is not?</span>

**Emile** <span style="color: grey; font-size: 90%;">20:15:15 UTC</span>

<span style="font-size: 90%;">yeah. Ideally, ModSec should take the browser’s hint of the charset and convert everything to a consistent encoding, but they don’t</span>

**Emile** <span style="color: grey; font-size: 90%;">20:15:57 UTC</span>

<span style="font-size: 90%;">the only time we experienced the issue those users are reporting was when a bug caused our agent to misinterpret the encoding</span>

**dune73** <span style="color: grey; font-size: 90%;">20:16:12 UTC</span>

<span style="font-size: 90%;">Do you see us doing that in CRS?</span>

**Emile** <span style="color: grey; font-size: 90%;">20:16:23 UTC</span>

<span style="font-size: 90%;">(I can’t prove it’s the same issue, but if it moves like a duck, and quacks like a duck…)</span>

**Emile** <span style="color: grey; font-size: 90%;">20:16:27 UTC</span>

<span style="font-size: 90%;">we can’t</span>

**Emile** <span style="color: grey; font-size: 90%;">20:17:12 UTC</span>

<span style="font-size: 90%;">at best, we can explicitly require UTF-8 as input, and forward our users complaints to ModSec, but there is nothing we can do on the pattern side to fix encoding issues afaik</span>

**Emile** <span style="color: grey; font-size: 90%;">20:17:59 UTC</span>

<span style="font-size: 90%;">(I mean, I guess we could fix it ourselves, but that would be incredibly complex, brittle, slow and painful)</span>

**Emile** <span style="color: grey; font-size: 90%;">20:18:55 UTC</span>

<span style="font-size: 90%;">anyway, long story short, 2014 is the best short term move we have I think, and ideally we should ask ModSec to fix their WAF</span>

**dune73** <span style="color: grey; font-size: 90%;">20:19:25 UTC</span>

<span style="font-size: 90%;">That's what a thought. Yet for the record, how would we go about fixing this, for an individual rule as an example?</span>

**Emile** <span style="color: grey; font-size: 90%;">20:20:40 UTC</span>

<span style="font-size: 90%;">the only way I can think of would be to look for the browser’s hint, and save that in CRS’ state. Then, swap between a UTF-8 and a latin1 variant of the rule based on it</span>

**azurIt** <span style="color: grey; font-size: 90%;">20:21:38 UTC</span>

<span style="font-size: 90%;">Sorry, i have to go, good ngiht!</span>

**dune73** <span style="color: grey; font-size: 90%;">20:21:59 UTC</span>

<span style="font-size: 90%;">Good night!</span>

**dune73** <span style="color: grey; font-size: 90%;">20:22:33 UTC</span>

<span style="font-size: 90%;">Thank you _@Emile_. That makes sense - and is out of question.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:22:47 UTC</span>

<span style="font-size: 90%;">So I guess 2014 is on the right track.</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:23:08 UTC</span>

<span style="font-size: 90%;">Thank you for explaining it _@Emile_!!</span>

**Emile** <span style="color: grey; font-size: 90%;">20:23:28 UTC</span>

<span style="font-size: 90%;">Happy to get to nerd out :nerd_face:</span>

**airween** <span style="color: grey; font-size: 90%;">20:23:33 UTC</span>

<span style="font-size: 90%;">I can't reproduce _@franbuehler_’s issue

curl -vvv -d "foo=Über den Wolken gehört..." [http://localhost](http://localhost)debug.log:
Target value: "\xc3\x9cber den wolken geh\xc3\xb6rt..."but in the issue comment she wrote
data "Matched Data: \\xbcber den Wolken geh\\xc3\\xb6rt</span>

**airween** <span style="color: grey; font-size: 90%;">20:24:36 UTC</span>

<span style="font-size: 90%;">\xbc != \xc3</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:26:00 UTC</span>

<span style="font-size: 90%;">I copied this from the log of CRS in front of a real application.
I only can say I would have to check this again.</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:26:26 UTC</span>

<span style="font-size: 90%;">I didn't reproduce it with curl on my side.</span>

**airween** <span style="color: grey; font-size: 90%;">20:26:35 UTC</span>

<span style="font-size: 90%;">and please share with me a curl example</span>

**airween** <span style="color: grey; font-size: 90%;">20:26:45 UTC</span>

<span style="font-size: 90%;">ah, I see</span>

**dune73** <span style="color: grey; font-size: 90%;">20:27:35 UTC</span>

<span style="font-size: 90%;">Can I interpret this as _@airween_ being interested in reviewing and ultimately merging this example? I mean Hungarians have a certain interest into a few of the funny German characters too.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:27:55 UTC</span>

<span style="font-size: 90%;">s/example/PR/</span>

**airween** <span style="color: grey; font-size: 90%;">20:28:15 UTC</span>

<span style="font-size: 90%;">uhm :slightly_smiling_face:, I thought I can check this issue in ModSec source</span>

**airween** <span style="color: grey; font-size: 90%;">20:29:02 UTC</span>

<span style="font-size: 90%;">and yes, we have so many similar characters, eg. Ü</span>

**airween** <span style="color: grey; font-size: 90%;">20:29:21 UTC</span>

<span style="font-size: 90%;">or ö, as I see</span>

↳ **Christian Treutler** <span style="color: grey; font-size: 90%;">20:29:34 UTC</span>

<span style="font-size: 90%;">Did not know that. Nice</span>

↳ **airween** <span style="color: grey; font-size: 90%;">20:31:15 UTC</span>

<span style="font-size: 90%;">here is the ultimate codepage test: "árvíztűrő tükörfúrógép" - it contains all accented character, and it makes sense</span>

↳ **airween** <span style="color: grey; font-size: 90%;">20:31:38 UTC</span>

<span style="font-size: 90%;">and it means about "flood-resistant mirror drill" :smile:</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:29:46 UTC</span>

<span style="font-size: 90%;">here too àéóù</span>

**dune73** <span style="color: grey; font-size: 90%;">20:30:06 UTC</span>

<span style="font-size: 90%;">As long as you do not use "ß" you have sympathies among the Swiss.</span>

**airween** <span style="color: grey; font-size: 90%;">20:30:30 UTC</span>

<span style="font-size: 90%;">no, we don't</span>

**dune73** <span style="color: grey; font-size: 90%;">20:31:05 UTC</span>

<span style="font-size: 90%;">-> [https://i.imgur.com/Dw0yg6S.jpg](https://i.imgur.com/Dw0yg6S.jpg)</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:31:08 UTC</span>

<span style="font-size: 90%;">Do you want me to have a look at this again and provide a curl example??</span>

**airween** <span style="color: grey; font-size: 90%;">20:32:04 UTC</span>

<span style="font-size: 90%;">oh yes, that would be fine! Thanks!</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:32:10 UTC</span>

<span style="font-size: 90%;">I'll try</span>

**dune73** <span style="color: grey; font-size: 90%;">20:32:23 UTC</span>

<span style="font-size: 90%;">Cool. _@airween_, would you then review it, so it's off the table for us?</span>

**airween** <span style="color: grey; font-size: 90%;">20:32:30 UTC</span>

<span style="font-size: 90%;">sure</span>

**dune73** <span style="color: grey; font-size: 90%;">20:33:37 UTC</span>

<span style="font-size: 90%;">Thank you.</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:33:39 UTC</span>

<span style="font-size: 90%;">thank you</span>

**dune73** <span style="color: grey; font-size: 90%;">20:33:59 UTC</span>

<span style="font-size: 90%;">Which brings us to PR 2022.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:34:31 UTC</span>

<span style="font-size: 90%;">Azurit contributed this today and I think I need to take this on, since I am working on the DoS rules (moving them out of CRS into the plugin structure)</span>

**walter** <span style="color: grey; font-size: 90%;">20:34:56 UTC</span>

<span style="font-size: 90%;">I’m fine with you taking this one, but how is this related to DoS?</span>

**dune73** <span style="color: grey; font-size: 90%;">20:35:02 UTC</span>

<span style="font-size: 90%;">Ah, no, it's actually scanner detection.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:35:05 UTC</span>

<span style="font-size: 90%;">I'm saved. :slightly_smiling_face:</span>

**walter** <span style="color: grey; font-size: 90%;">20:35:06 UTC</span>

<span style="font-size: 90%;">feel free to skip the explanation as we won’t want to run too late</span>

**walter** <span style="color: grey; font-size: 90%;">20:35:39 UTC</span>

<span style="font-size: 90%;">it looks fine to me tbbh</span>

**dune73** <span style="color: grey; font-size: 90%;">20:35:41 UTC</span>

<span style="font-size: 90%;">I did not say anything about volunteering. You must have misunderstood me <running for the hills></span>

**walter** <span style="color: grey; font-size: 90%;">20:35:53 UTC</span>

<span style="font-size: 90%;">ah :wink:</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:36:29 UTC</span>

<span style="font-size: 90%;">Hey</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:36:36 UTC</span>

<span style="font-size: 90%;">Sorry about the delay</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:36:48 UTC</span>

<span style="font-size: 90%;">Funny enough, I'm in the middle of a 27001 meeting</span>

**dune73** <span style="color: grey; font-size: 90%;">20:36:59 UTC</span>

<span style="font-size: 90%;">haha</span>

**dune73** <span style="color: grey; font-size: 90%;">20:37:05 UTC</span>

<span style="font-size: 90%;">Welcome.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:37:28 UTC</span>

<span style="font-size: 90%;">Thanks!</span>

**dune73** <span style="color: grey; font-size: 90%;">20:37:33 UTC</span>

<span style="font-size: 90%;">Is not the whole 2022 a lot of noise for an individual UA? Is there no simpler way?</span>

**walter** <span style="color: grey; font-size: 90%;">20:39:07 UTC</span>

<span style="font-size: 90%;">spider.py
24:txheaders = {‘User-agent’ : ‘Grabber/0.1 (X11; U; Linux i686; en-US; rv:1.7)’, ‘Referer’ : refererUrl}</span>

**Emile** <span style="color: grey; font-size: 90%;">20:39:14 UTC</span>

<span style="font-size: 90%;">hum, unless we split the urlgrabber rule to a dedicated rule, I don’t think so :thinking_face:</span>

**walter** <span style="color: grey; font-size: 90%;">20:39:25 UTC</span>

<span style="font-size: 90%;">i see that grabber uses Grabber/0.1 so maybe we could be more specific, like use string Grabber/</span>

**walter** <span style="color: grey; font-size: 90%;">20:39:37 UTC</span>

<span style="font-size: 90%;">do we know the UA of yum’s urlgrabber?</span>

**walter** <span style="color: grey; font-size: 90%;">20:40:01 UTC</span>

<span style="font-size: 90%;">if yum doesn’t have a / after grabber  then we can solve this very easily by changing the matched textr</span>

**dune73** <span style="color: grey; font-size: 90%;">20:40:29 UTC</span>

<span style="font-size: 90%;">What would be sweet.</span>

**walter** <span style="color: grey; font-size: 90%;">20:41:23 UTC</span>

<span style="font-size: 90%;">^urlgrabber/[0-9\.]+</span>

**walter** <span style="color: grey; font-size: 90%;">20:41:27 UTC</span>

<span style="font-size: 90%;">seems we are not in luck there</span>

**walter** <span style="color: grey; font-size: 90%;">20:42:15 UTC</span>

<span style="font-size: 90%;">the latest and only version of grabber seems to be Grabber/0.1 so we could try that whole string…</span>

**walter** <span style="color: grey; font-size: 90%;">20:42:35 UTC</span>

<span style="font-size: 90%;">it’s from 2006 and it doesn’t look like it’s maintained</span>

**dune73** <span style="color: grey; font-size: 90%;">20:43:37 UTC</span>

<span style="font-size: 90%;">Is that thing still existing? A threat? We could also remove it alltogether. I meanin identifying attackers by the UA is probably nothing to shy away a serious enemy...</span>

**walter** <span style="color: grey; font-size: 90%;">20:44:04 UTC</span>

<span style="font-size: 90%;">it seems to be still part of kali linux, but I was thinking the same</span>

**walter** <span style="color: grey; font-size: 90%;">20:44:09 UTC</span>

<span style="font-size: 90%;">we could get rid of the string</span>

**walter** <span style="color: grey; font-size: 90%;">20:44:36 UTC</span>

<span style="font-size: 90%;">at the other hand I don’t mind the chain, it’s pretty nice and it could be a nice template in case we have more problems like this</span>

**fzipitria** <span style="color: grey; font-size: 90%;">20:44:41 UTC</span>

<span style="font-size: 90%;">Well, no serious attacker will comply with any UA</span>

**dune73** <span style="color: grey; font-size: 90%;">20:45:16 UTC</span>

<span style="font-size: 90%;">Given the chain is only executed on matches and if we agree it's nicely done, then why not.</span>

**walter** <span style="color: grey; font-size: 90%;">20:46:10 UTC</span>

<span style="font-size: 90%;">yep so let’s merge IMHO!</span>

**walter** <span style="color: grey; font-size: 90%;">20:46:23 UTC</span>

<span style="font-size: 90%;">a test would be nice…</span>

**dune73** <span style="color: grey; font-size: 90%;">20:46:25 UTC</span>

<span style="font-size: 90%;">Cool. +1</span>

**dune73** <span style="color: grey; font-size: 90%;">20:46:38 UTC</span>

<span style="font-size: 90%;">Also +1 to the test idea.</span>

**walter** <span style="color: grey; font-size: 90%;">20:46:44 UTC</span>

<span style="font-size: 90%;">with a full YUM ua and the grabber ua</span>

**walter** <span style="color: grey; font-size: 90%;">20:46:49 UTC</span>

<span style="font-size: 90%;">let’s require that and merge then</span>

**dune73** <span style="color: grey; font-size: 90%;">20:46:51 UTC</span>

<span style="font-size: 90%;">Can you shepherd the PR to the merg, Walter?</span>

**walter** <span style="color: grey; font-size: 90%;">20:46:55 UTC</span>

<span style="font-size: 90%;">sure</span>

**dune73** <span style="color: grey; font-size: 90%;">20:46:58 UTC</span>

<span style="font-size: 90%;">Thank you.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:47:10 UTC</span>

<span style="font-size: 90%;">With this we conclude the PR part of our meeting.</span>

**Emile** <span style="color: grey; font-size: 90%;">20:47:11 UTC</span>

<span style="font-size: 90%;">Hum, we’re getting a fair bit of hits from mozilla/5.0 ecairn-grabber/1.0 (+[http://ecairn.com/grabber](http://ecairn.com/grabber))</span>

**dune73** <span style="color: grey; font-size: 90%;">20:47:37 UTC</span>

<span style="font-size: 90%;">Thank you for the info. This will trigger the existing rules as well, I guess.</span>

**Emile** <span style="color: grey; font-size: 90%;">20:48:07 UTC</span>

<span style="font-size: 90%;">(sorry for the delay, was checking)</span>

**dune73** <span style="color: grey; font-size: 90%;">20:48:44 UTC</span>

<span style="font-size: 90%;">So let's look into the next release.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:49:03 UTC</span>

<span style="font-size: 90%;">We have been held back by more and more ModSec3 issues around the new early-blocking feature.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:49:17 UTC</span>

<span style="font-size: 90%;">We have now workarounds for all of them, but it's a mess and we need to document properly.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:49:45 UTC</span>

<span style="font-size: 90%;">I need to finish a first blog post explaining why we are doing the early blocking in the first place, then we can look forward.</span>

**walter** <span style="color: grey; font-size: 90%;">20:50:13 UTC</span>

<span style="font-size: 90%;">Would you say this is a bonafide grabber or a bot? The URL is a 404 sadly. It would be a small task to add a whitelist for it too now.</span>

↳ **Emile** <span style="color: grey; font-size: 90%;">20:56:45 UTC</span>

<span style="font-size: 90%;">Looks like a real scrapper</span>

**dune73** <span style="color: grey; font-size: 90%;">20:51:03 UTC</span>

<span style="font-size: 90%;">Early blocking, the plugin structure, more new rules (webshells) etc. make it worthwhile to think about the next major release being CRS 4.0.</span>

**walter** <span style="color: grey; font-size: 90%;">20:51:46 UTC</span>

<span style="font-size: 90%;">I agree!</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:51:50 UTC</span>

<span style="font-size: 90%;">Oh, wow!</span>

**dune73** <span style="color: grey; font-size: 90%;">20:51:53 UTC</span>

<span style="font-size: 90%;">Initially we wanted to release in March (with a code freeze in early February), but ModSec3 killed this plan. So I wonder if we want to fix a new release plan, or if we better create a tasklist first.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:52:58 UTC</span>

<span style="font-size: 90%;">That could be a group of issues with a common label - or a wiki page.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:53:36 UTC</span>

<span style="font-size: 90%;">Last release was in July. We usually do major releases once a year. I think we have all options.

I'm open for your opinions. What do you think?</span>

**airween** <span style="color: grey; font-size: 90%;">20:54:47 UTC</span>

<span style="font-size: 90%;">what about 3.3.1?</span>

**walter** <span style="color: grey; font-size: 90%;">20:54:53 UTC</span>

<span style="font-size: 90%;">I think we have plenty new features and fixes, it will be a pretty good release so far. I recall that we were waiting on some ModSec information as a go/no go on the early blocking feature. I don’t remember was that resolved already?</span>

**airween** <span style="color: grey; font-size: 90%;">20:55:25 UTC</span>

<span style="font-size: 90%;">there is an RC version - do we plan it release as stable? (I mean 3.3.1 regularly)</span>

**dune73** <span style="color: grey; font-size: 90%;">20:56:04 UTC</span>

<span style="font-size: 90%;">3.3.1 will never be released since the early-blocking change has a far bigger effect on existing installations than we anticipated. :sleepy:</span>

**walter** <span style="color: grey; font-size: 90%;">20:56:19 UTC</span>

<span style="font-size: 90%;">yes…</span>

**dune73** <span style="color: grey; font-size: 90%;">20:56:44 UTC</span>

<span style="font-size: 90%;">Our policy says minor releases can not introduce new false positives (and other bad stuff) and 3.3.1 would kill a lot of installations.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:56:53 UTC</span>

<span style="font-size: 90%;">So it is one for the museum.</span>

**airween** <span style="color: grey; font-size: 90%;">20:57:05 UTC</span>

<span style="font-size: 90%;">ah, right, I see</span>

**dune73** <span style="color: grey; font-size: 90%;">20:57:23 UTC</span>

<span style="font-size: 90%;">In said blog post, I will point to the RC1 as a potential workaround against the ModSec3 bug it tries to fix.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:58:28 UTC</span>

<span style="font-size: 90%;">Any thoughts on a release plan?</span>

**airween** <span style="color: grey; font-size: 90%;">20:58:32 UTC</span>

<span style="font-size: 90%;">I'm afraid the ModSec 3.0 is over - IMHO the next release will the 3.1... but the release time is a big question mark...</span>

**airween** <span style="color: grey; font-size: 90%;">21:00:49 UTC</span>

<span style="font-size: 90%;">is there any disincentives that prevents the release? If not, can we plan it in April...?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:01:30 UTC</span>

<span style="font-size: 90%;">There is a ton of documentation to write - and the plugin thing is more of an idea and needs to be put into action fore it warrants a 4.0, I guess.</span>

**airween** <span style="color: grey; font-size: 90%;">21:02:22 UTC</span>

<span style="font-size: 90%;">ah, right</span>

**walter** <span style="color: grey; font-size: 90%;">21:03:47 UTC</span>

<span style="font-size: 90%;">so the 4.0 will contain plugins, right?</span>

**airween** <span style="color: grey; font-size: 90%;">21:04:22 UTC</span>

<span style="font-size: 90%;">can you summarize the task? Eg. documentations, plugin PoC's...</span>

**walter** <span style="color: grey; font-size: 90%;">21:04:24 UTC</span>

<span style="font-size: 90%;">I haven’t looked at that enough but I think we should all prepare and go through over it to have a real important discussion, as whatever we will decide may haunt us for a long time</span>

**dune73** <span style="color: grey; font-size: 90%;">21:04:26 UTC</span>

<span style="font-size: 90%;">Plugins or it's not a 4.0, I think.</span>

**walter** <span style="color: grey; font-size: 90%;">21:04:50 UTC</span>

<span style="font-size: 90%;">maybe we should reserve a whole meet for a plugin discussion</span>

**dune73** <span style="color: grey; font-size: 90%;">21:05:09 UTC</span>

<span style="font-size: 90%;">We scheduled it for tonight, but I thought of it more as an intro.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:05:26 UTC</span>

<span style="font-size: 90%;">The proposal is here: [https://github.com/coreruleset/coreruleset/issues/2003#issuecomment-773937871](https://github.com/coreruleset/coreruleset/issues/2003#issuecomment-773937871)</span>

**walter** <span style="color: grey; font-size: 90%;">21:05:39 UTC</span>

<span style="font-size: 90%;">well I’d love an intro, but these things need what I call shower time, sometimes you get the best ideas about abstract concepts in the shower.. I wouldn’t want to make a decision today</span>

**dune73** <span style="color: grey; font-size: 90%;">21:06:12 UTC</span>

<span style="font-size: 90%;">Exactly. Explain it all and then you all go showering for a few weeks and then we decide.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:07:26 UTC</span>

<span style="font-size: 90%;">Let's cover the intro now, if you do not mind.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:07:45 UTC</span>

<span style="font-size: 90%;">I want to make sure the plugins can reside into single folder.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:08:02 UTC</span>

<span style="font-size: 90%;">So if you want to use a plugin, you pick all the files of a plugin and throw them into a folder.</span>

**walter** <span style="color: grey; font-size: 90%;">21:08:06 UTC</span>

<span style="font-size: 90%;">I see, I like that, it doesn’t ask too much from the administrator</span>

**dune73** <span style="color: grey; font-size: 90%;">21:08:15 UTC</span>

<span style="font-size: 90%;">Exactly.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:08:25 UTC</span>

<span style="font-size: 90%;">There can be 3 types of rules for plugins.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:08:30 UTC</span>

<span style="font-size: 90%;">what about shared dependencies?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:08:53 UTC</span>

<span style="font-size: 90%;">(1) Config rules, (2) rules that need to be running before CRS and (3) rules that need to be running after CRS.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:09:15 UTC</span>

<span style="font-size: 90%;">A phase 2 rule that wants to join the anomaly scoring fun would fall into group (2) for example.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:09:52 UTC</span>

<span style="font-size: 90%;">The rules are put into filenames with a name following a certain convention. Example:
myplugin-early.conf</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:10:25 UTC</span>

<span style="font-size: 90%;">Do we want to add posix ordering?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:10:25 UTC</span>

<span style="font-size: 90%;">Azurit and I are not happy with the early / late. Pre/Post could be an alternative.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:10:38 UTC</span>

<span style="font-size: 90%;">Like 001-myplugin-early.conf?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:10:48 UTC</span>

<span style="font-size: 90%;">But anyways, this is how you would load it together with the CRS rules:

# === ModSecurity Core Rule Set Inclusion

Include     /home/dune73/data/git/crs-mypull-plugin-structure/plugins/*-early.conf
Include     /home/dune73/data/git/crs-mypull-plugin-structure/rules/*.conf
Include     /home/dune73/data/git/crs-mypull-plugin-structure/plugins/*-late.conf</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:11:01 UTC</span>

<span style="font-size: 90%;">setup/pre/post much better</span>

**dune73** <span style="color: grey; font-size: 90%;">21:11:15 UTC</span>

<span style="font-size: 90%;">I did not think about dependencies so far, but generally, I think the numeric prefix is not needed.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:11:54 UTC</span>

<span style="font-size: 90%;">The myplugin-config-early.conf rules would automatically load before myplugin-early.conf.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:12:52 UTC</span>

<span style="font-size: 90%;">can we add a mandatory markdown file on each plugin folder that explain what it does and if possible a little description of Lua code?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:13:25 UTC</span>

<span style="font-size: 90%;">We would include the plugins folder in the CRS release and add two empty files to it, so the Includes do not fail since IncludeOptional is not available on NGINX.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:13:41 UTC</span>

<span style="font-size: 90%;">We could make that mandatory, yes.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:14:07 UTC</span>

<span style="font-size: 90%;">My idea is to have the plugins as separate projects on our github and in order to be accepted onto our github, you need to follow our conventions.</span>

**walter** <span style="color: grey; font-size: 90%;">21:14:09 UTC</span>

<span style="font-size: 90%;">that is an excellent idea</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:14:22 UTC</span>

<span style="font-size: 90%;">cool</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:14:37 UTC</span>

<span style="font-size: 90%;">I look forward to write some plugin, I’ve a couple of ideas :smile:</span>

**dune73** <span style="color: grey; font-size: 90%;">21:15:49 UTC</span>

<span style="font-size: 90%;">I have not really tried this out and getting plugin writers to understand where to put there rules (pre/post) will be tricky, namely if we want to allow anomaly scoring and paranoia levels, but a decent example plugin could help with this.</span>

**walter** <span style="color: grey; font-size: 90%;">21:16:12 UTC</span>

<span style="font-size: 90%;">great idea</span>

**dune73** <span style="color: grey; font-size: 90%;">21:16:40 UTC</span>

<span style="font-size: 90%;">Interesting problems exist. Like phase 1 rules probably need to be in post  since CRS init runs in phase 1 after the pre (see include structure).</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:16:47 UTC</span>

<span style="font-size: 90%;">yeah, you mean an hello-world-plugin?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:17:11 UTC</span>

<span style="font-size: 90%;">Yes, a hello-world plugin with a colourful rainbow around it.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:18:02 UTC</span>

<span style="font-size: 90%;">Do you get the idea, or do you have immediate questions / proposals?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:18:22 UTC</span>

<span style="font-size: 90%;">If not, I suggest you start showering and add your comments to the issue.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:18:28 UTC</span>

<span style="font-size: 90%;">2003 that is.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:18:33 UTC</span>

<span style="font-size: 90%;">I don’t really undestand the problem, but maybe because I need to put hands on it</span>

**dune73** <span style="color: grey; font-size: 90%;">21:18:51 UTC</span>

<span style="font-size: 90%;">The problem is optional rules that do not really fit into our rule set.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:19:15 UTC</span>

<span style="font-size: 90%;">We'd like to get rid of the DoS rules for example, since they rely on the session features. And no other rule relies on that.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:19:28 UTC</span>

<span style="font-size: 90%;">ahh oky</span>

**dune73** <span style="color: grey; font-size: 90%;">21:20:18 UTC</span>

<span style="font-size: 90%;">Or the AV proposal by Azurit, that relies on lua and we do not want to introduce a lua dependency into CRS. By providing a plugin structure, people get more freedom in writing rules that can work with our meachanisms, but we do not need to support them for everybody.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:20:47 UTC</span>

<span style="font-size: 90%;">So the minimal requirements to run off-the-shelf CRS remain low (or get even lower), but we still allow for more advanced rules.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:20:52 UTC</span>

<span style="font-size: 90%;">It's a win-win, I think.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:21:16 UTC</span>

<span style="font-size: 90%;">yep</span>

**walter** <span style="color: grey; font-size: 90%;">21:23:53 UTC</span>

<span style="font-size: 90%;">yes awesome!</span>

**theMiddle** <span style="color: grey; font-size: 90%;">21:23:54 UTC</span>

<span style="font-size: 90%;">I want to try it out and maybe in the next few days I’ll ask you and _@azurIt_ some questions. For example, if I need a Lua dependency, how you handled it for example for the AV plugin? have you installed it via luarocks or something like? or have you put the lua library in the plugin folder?</span>

**airween** <span style="color: grey; font-size: 90%;">21:24:50 UTC</span>

<span style="font-size: 90%;">for the early/late or pre/post debate: we already use BEFORE and AFTER keywords. Shouldn't we use these here too?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:25:10 UTC</span>

<span style="font-size: 90%;">Good thinking, yes.</span>

**airween** <span style="color: grey; font-size: 90%;">21:25:32 UTC</span>

<span style="font-size: 90%;">it's more consistent</span>

**dune73** <span style="color: grey; font-size: 90%;">21:26:18 UTC</span>

<span style="font-size: 90%;">Thank you for your interest. OK if we move on?</span>

**franbuehler** <span style="color: grey; font-size: 90%;">21:26:37 UTC</span>

<span style="font-size: 90%;">Sorry, I will go to bed now. Good night and bye</span>

**airween** <span style="color: grey; font-size: 90%;">21:26:38 UTC</span>

<span style="font-size: 90%;">yes</span>

**dune73** <span style="color: grey; font-size: 90%;">21:26:48 UTC</span>

<span style="font-size: 90%;">Bye _@franbuehler_!</span>

**dune73** <span style="color: grey; font-size: 90%;">21:26:56 UTC</span>

<span style="font-size: 90%;">Thanks for attending.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:29:27 UTC</span>

<span style="font-size: 90%;">I told you on the dev channel (_@Emile_ & _@Christian Treutler_, you are not yet invited there :)) about a potential sponsor asking for 2-3 rule exclusion packages. Azurit is volunteering to write those (for money I guess). So as far as I am concerned, I think we should do this as it is better to keep these rule exclusion packages in CRS than in proprietary software. And providing a CRS dev with a salary is a nice thing on top, I think.</span>

**walter** <span style="color: grey; font-size: 90%;">21:30:58 UTC</span>

<span style="font-size: 90%;">very nice!</span>

**dune73** <span style="color: grey; font-size: 90%;">21:31:09 UTC</span>

<span style="font-size: 90%;">So you like this @walter?</span>

**walter** <span style="color: grey; font-size: 90%;">21:33:12 UTC</span>

<span style="font-size: 90%;">yes, I think it’s good - one thing that may cause a problem is this investment is thought of as a one-time affair while in reality we will have to support these exclusion packages over the lifetime of software and it could be a moving target with new versions exposing new API’s etc</span>

**walter** <span style="color: grey; font-size: 90%;">21:33:49 UTC</span>

<span style="font-size: 90%;">so I think it’s good to communicate this clearly, so that we won’t create unattainable expectations</span>

**walter** <span style="color: grey; font-size: 90%;">21:34:01 UTC</span>

<span style="font-size: 90%;">we could write an exclusion package aiming at a specific version</span>

**walter** <span style="color: grey; font-size: 90%;">21:34:34 UTC</span>

<span style="font-size: 90%;">I think if we grow in usage, as the cloud providers now help us with, perhaps even vendors would come to us directly in the future</span>

**walter** <span style="color: grey; font-size: 90%;">21:35:59 UTC</span>

<span style="font-size: 90%;">I haven’t found an app that is resistant to CRS exclusion formats, some tend to use annoying constructs such as variable parameter names, which require opening up wide, I can recall old MS apps having some crazy parameters and data formats, but that’s a long time ago…</span>

**dune73** <span style="color: grey; font-size: 90%;">21:36:25 UTC</span>

<span style="font-size: 90%;">I second all your thoughts, thanks.</span>

**walter** <span style="color: grey; font-size: 90%;">21:36:31 UTC</span>

<span style="font-size: 90%;">but all in all I think this is a very nice model for us</span>

**dune73** <span style="color: grey; font-size: 90%;">21:36:50 UTC</span>

<span style="font-size: 90%;">I'll talk to the guy during the week and there is a high ladder of management involved, but we'll see. I'm actually quite confident.</span>

**walter** <span style="color: grey; font-size: 90%;">21:37:05 UTC</span>

<span style="font-size: 90%;">we add support for your application, we will maintain it, and it becomes free software and is to the betterment of everyone using it</span>

**dune73** <span style="color: grey; font-size: 90%;">21:37:24 UTC</span>

<span style="font-size: 90%;">And you sponsor us in return. :slightly_smiling_face:</span>

**walter** <span style="color: grey; font-size: 90%;">21:37:30 UTC</span>

<span style="font-size: 90%;">it’s sort of the consultancy model for open source</span>

**dune73** <span style="color: grey; font-size: 90%;">21:37:56 UTC</span>

<span style="font-size: 90%;">But not via a company, but a group of friends and OWASP HQ does the paperwork.</span>

**walter** <span style="color: grey; font-size: 90%;">21:38:07 UTC</span>

<span style="font-size: 90%;">yes!</span>

**walter** <span style="color: grey; font-size: 90%;">21:38:34 UTC</span>

<span style="font-size: 90%;">I think for most software packages an exclusion package could be done within 10-40 hours. if we get a nice environment to work with, we can make a CRS proxy for it ourselves and do the work on that</span>

**dune73** <span style="color: grey; font-size: 90%;">21:39:18 UTC</span>

<span style="font-size: 90%;">My thinking too.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:39:52 UTC</span>

<span style="font-size: 90%;">I guess we are slowly coming to an end with the meeting then.</span>

**walter** <span style="color: grey; font-size: 90%;">21:39:57 UTC</span>

<span style="font-size: 90%;">so a really positive environment! 2021 will be the year that we become much more healthy and finally also get the recognition we deserve</span>

**dune73** <span style="color: grey; font-size: 90%;">21:40:28 UTC</span>

<span style="font-size: 90%;">I'm keeping my fingers crossed on that. But it might really play out since I have several leads.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:41:25 UTC</span>

<span style="font-size: 90%;">Corona slowed everything down, but with the NGINX announcement, things will become a lot more real and I can point people to it and many orgs / companies have little arguments when turning us down since they are actually selling money with our software.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:41:57 UTC</span>

<span style="font-size: 90%;">ftw</span>

**walter** <span style="color: grey; font-size: 90%;">21:42:03 UTC</span>

<span style="font-size: 90%;">:+1:</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:42:14 UTC</span>

<span style="font-size: 90%;">:+1:</span>

**dune73** <span style="color: grey; font-size: 90%;">21:42:19 UTC</span>

<span style="font-size: 90%;">We have an ongoing ftw problem since it is meant to run with python 2 and that is no longer supported.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:42:34 UTC</span>

<span style="font-size: 90%;">Yes</span>

**walter** <span style="color: grey; font-size: 90%;">21:42:45 UTC</span>

<span style="font-size: 90%;">oh yeah….</span>

**dune73** <span style="color: grey; font-size: 90%;">21:42:52 UTC</span>

<span style="font-size: 90%;">So _@fzipitria_ explained my the whole situation ( we talked about it before briefly here) and the various options.</span>

**walter** <span style="color: grey; font-size: 90%;">21:42:59 UTC</span>

<span style="font-size: 90%;">will github still run our old python based stuff or will it actively break it?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:43:13 UTC</span>

<span style="font-size: 90%;">Our ftw is slow and it has to be adopted to python 3.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:43:31 UTC</span>

<span style="font-size: 90%;">This can not be done without at least changing 2-3 tests, the number I have heard is 2.</span>

**walter** <span style="color: grey; font-size: 90%;">21:43:33 UTC</span>

<span style="font-size: 90%;">I see where this is GOing</span>

**dune73** <span style="color: grey; font-size: 90%;">21:43:40 UTC</span>

<span style="font-size: 90%;">So that's relatively easy.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:45:16 UTC</span>

<span style="font-size: 90%;">The better alternative is the new go-ftw (you guessed it correctly Walter) that fzipitria is working on. But it's not ready and it involves changing a lot of the YAML test files. In a systematic way, but still.
The problem here is that other projects / organizations also rely on ftw. So it's not simply a commodity for us, it's a project on its own.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:45:35 UTC</span>

<span style="font-size: 90%;">The proposal we have is the following:</span>

**dune73** <span style="color: grey; font-size: 90%;">21:45:42 UTC</span>

<span style="font-size: 90%;"></span>

**dune73** <span style="color: grey; font-size: 90%;">21:47:50 UTC</span>

<span style="font-size: 90%;">_@fgs_ has a big stake in this and he has been quite negative about changing the tests. I have not talked to fgs yet, but I think the proposal is the way to go since it promises faster tests and cleaner test files is a good thing too. Even if it may involve some uncertainty and change for certain orgs.</span>

**walter** <span style="color: grey; font-size: 90%;">21:48:41 UTC</span>

<span style="font-size: 90%;">I don’t quite yet understand is it really necessary to change the YAML format?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:48:47 UTC</span>

<span style="font-size: 90%;">Unless anybody sees some serious issues with this course of action, I or somebody else should talk to fgs ASAP and see if we can get him into the boat.</span>

**walter** <span style="color: grey; font-size: 90%;">21:48:54 UTC</span>

<span style="font-size: 90%;">if it can be transformed mechanically, why can’t the tool have a reader for the old format?</span>

**dune73** <span style="color: grey; font-size: 90%;">21:49:09 UTC</span>

<span style="font-size: 90%;">It has to do with the typing of certain variables and how pythong 3 handles them - and how GO would like to handle them.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:49:30 UTC</span>

<span style="font-size: 90%;">Python 2  was quite relaxed, py3 less so and GO is strict.</span>

**walter** <span style="color: grey; font-size: 90%;">21:49:35 UTC</span>

<span style="font-size: 90%;">would seem a similar or even smaller task to accept old formats rather than to write a converter</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:49:49 UTC</span>

<span style="font-size: 90%;">No</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:49:51 UTC</span>

<span style="font-size: 90%;">Wait</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:49:55 UTC</span>

<span style="font-size: 90%;">We don't change the format</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:49:58 UTC</span>

<span style="font-size: 90%;">We change the tests</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:50:05 UTC</span>

<span style="font-size: 90%;">And also, it is a simple change</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:50:17 UTC</span>

<span style="font-size: 90%;">Mostly semantic, to get more yaml niceties</span>

**walter** <span style="color: grey; font-size: 90%;">21:50:43 UTC</span>

<span style="font-size: 90%;">but if ftw lives on, it has positive effects to keep tests interchangeable</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:51:01 UTC</span>

<span style="font-size: 90%;">As an example, we accept two different test status types: an integer (e.g. 200), or a list of integers</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:51:25 UTC</span>

<span style="font-size: 90%;">My proposal is why don't we change our test to use only one: a list of integers</span>

**walter** <span style="color: grey; font-size: 90%;">21:51:41 UTC</span>

<span style="font-size: 90%;">ahhh</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:51:45 UTC</span>

<span style="font-size: 90%;">And if you need one only, use [200]</span>

**walter** <span style="color: grey; font-size: 90%;">21:51:59 UTC</span>

<span style="font-size: 90%;">I see how that would be annoying with go marshaling</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:52:12 UTC</span>

<span style="font-size: 90%;">You are exactly right</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:52:37 UTC</span>

<span style="font-size: 90%;">That's why I needed to change the tests, because Go unmarshaling of yaml is stricter</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:52:49 UTC</span>

<span style="font-size: 90%;">But the changes are straightforward</span>

**walter** <span style="color: grey; font-size: 90%;">21:52:54 UTC</span>

<span style="font-size: 90%;">fair enoughg!</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:53:09 UTC</span>

<span style="font-size: 90%;">eg: [https://gist.github.com/fzipi/b9e22b3834a5fa32970878c72775d41e](https://gist.github.com/fzipi/b9e22b3834a5fa32970878c72775d41e)</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:53:20 UTC</span>

<span style="font-size: 90%;">With data is the same</span>

**walter** <span style="color: grey; font-size: 90%;">21:53:27 UTC</span>

<span style="font-size: 90%;">oh yeah this is much better use of YAML</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:53:31 UTC</span>

<span style="font-size: 90%;">We use sometime a list of string, sometimes a string</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:53:47 UTC</span>

<span style="font-size: 90%;">So I've moved those to classic data: |</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:54:12 UTC</span>

<span style="font-size: 90%;">We can even get more sophisticated, and introduced &data, or common stuff for tests</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:54:16 UTC</span>

<span style="font-size: 90%;">Like templates</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:54:33 UTC</span>

<span style="font-size: 90%;">But that's mostly the power of YAML</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:54:39 UTC</span>

<span style="font-size: 90%;">Nothing changes for ftw</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:55:17 UTC</span>

<span style="font-size: 90%;">In the end we can even version the YAMLs</span>

**walter** <span style="color: grey; font-size: 90%;">21:55:25 UTC</span>

<span style="font-size: 90%;">that is a great idea</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:55:29 UTC</span>

<span style="font-size: 90%;">And add more niceties for newer versions</span>

**dune73** <span style="color: grey; font-size: 90%;">21:56:17 UTC</span>

<span style="font-size: 90%;">_@fzipitria_ Do you think you can convince fgs or should I reach out to him during the week? (I tried today, but he was not on slack)</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:56:40 UTC</span>

<span style="font-size: 90%;">Let me chat with him</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:56:48 UTC</span>

<span style="font-size: 90%;">And see if we can push this</span>

**fzipitria** <span style="color: grey; font-size: 90%;">21:56:55 UTC</span>

<span style="font-size: 90%;">So we can move forward</span>

**walter** <span style="color: grey; font-size: 90%;">21:58:13 UTC</span>

<span style="font-size: 90%;">awesome!</span>

**dune73** <span style="color: grey; font-size: 90%;">21:58:41 UTC</span>

<span style="font-size: 90%;">Wonderful. Thanks.</span>

**dune73** <span style="color: grey; font-size: 90%;">21:59:29 UTC</span>

<span style="font-size: 90%;">So we're pretty much done. But if anybody wants some bad news, there is a pretty embarassing discovery that I made on the ModSec mailinglist ...</span>

**dune73** <span style="color: grey; font-size: 90%;">22:00:56 UTC</span>

<span style="font-size: 90%;">I wrote to Walter and _@airween_ about it already. The thing is, the recommended rule 200005. The way I and the CRS project as a whole documents the modsec configuration, we run the rule too early to detect a lot of the PCRE match limit violations it is meant to detect.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:02:04 UTC</span>

<span style="font-size: 90%;">200005 is a phase 2 rule that is meant to block a request if there is a PCRE match limit. Given most people do the include after all the recommended rules our phase 2 rules run after 200005.</span>

**walter** <span style="color: grey; font-size: 90%;">22:02:33 UTC</span>

<span style="font-size: 90%;">yes. the rule 200005 is above the CRS rules in phase 2, so most of our big regexps that may set the MSC_ are not checked</span>

**walter** <span style="color: grey; font-size: 90%;">22:02:43 UTC</span>

<span style="font-size: 90%;">we could in 4.0.0 add a check of our own</span>

**dune73** <span style="color: grey; font-size: 90%;">22:02:55 UTC</span>

<span style="font-size: 90%;">So we are bypassing the rule (and we did not notice in years). At least I should have noticed, since I am teaching this stuff. It's very embarassing.</span>

**walter** <span style="color: grey; font-size: 90%;">22:02:56 UTC</span>

<span style="font-size: 90%;">seems like a simple fix then, or am I overlooking something?</span>

**dune73** <span style="color: grey; font-size: 90%;">22:03:13 UTC</span>

<span style="font-size: 90%;">The fix will lead to FPs I guess.</span>

**walter** <span style="color: grey; font-size: 90%;">22:03:33 UTC</span>

<span style="font-size: 90%;">possibly, I generally see PCRE limits exceeded on output though</span>

**walter** <span style="color: grey; font-size: 90%;">22:03:40 UTC</span>

<span style="font-size: 90%;">but perhaps editing big pages in a CRS will do it</span>

**walter** <span style="color: grey; font-size: 90%;">22:03:44 UTC</span>

<span style="font-size: 90%;">CMS</span>

**dune73** <span style="color: grey; font-size: 90%;">22:03:49 UTC</span>

<span style="font-size: 90%;">So we need to approach this with caution - again. Document it properly and tell our users to change their setup outside CRS.</span>

**dune73** <span style="color: grey; font-size: 90%;">22:04:04 UTC</span>

<span style="font-size: 90%;">It's true that a lot of PCRE limits are hit with the responses.</span>

**walter** <span style="color: grey; font-size: 90%;">22:04:17 UTC</span>

<span style="font-size: 90%;">yes, and test it thoroughly in RC phase - if we hit many FPs we should make checking it an option</span>

**dune73** <span style="color: grey; font-size: 90%;">22:04:26 UTC</span>

<span style="font-size: 90%;">Which kind of brings up the question of adding a twin of 200005 in phase 3 and / or 4.</span>

**airween** <span style="color: grey; font-size: 90%;">22:04:29 UTC</span>

<span style="font-size: 90%;">or.... we can add an own CRS modsecurity.conf as plugin... and forgot the existing one</span>

**dune73** <span style="color: grey; font-size: 90%;">22:05:02 UTC</span>

<span style="font-size: 90%;">We thought about this before but actually went the other way by pointing towards the recommended rules. In CRS 3.0, I think.</span>

**walter** <span style="color: grey; font-size: 90%;">22:05:48 UTC</span>

<span style="font-size: 90%;">hmm</span>

**dune73** <span style="color: grey; font-size: 90%;">22:07:01 UTC</span>

<span style="font-size: 90%;">I guess for things to think about while showering.</span>

**walter** <span style="color: grey; font-size: 90%;">22:07:26 UTC</span>

<span style="font-size: 90%;">right!</span>

**walter** <span style="color: grey; font-size: 90%;">22:08:31 UTC</span>

<span style="font-size: 90%;">time to wrap up? I’m already asleep :slightly_smiling_face:</span>

**dune73** <span style="color: grey; font-size: 90%;">22:09:21 UTC</span>

<span style="font-size: 90%;">Yes, we're really done. This was very fruitful, so thanks to everybody for the volunteering and staying so late!</span>

**walter** <span style="color: grey; font-size: 90%;">22:09:54 UTC</span>

<span style="font-size: 90%;">thank you for leading the meeting _@dune73_ and speak to you in a few weeks!</span>

**emphazer** <span style="color: grey; font-size: 90%;">22:10:39 UTC</span>

<span style="font-size: 90%;">I wish you all a good night</span>

**airween** <span style="color: grey; font-size: 90%;">22:10:53 UTC</span>

<span style="font-size: 90%;">good night folks!</span>

**walter** <span style="color: grey; font-size: 90%;">22:11:01 UTC</span>

<span style="font-size: 90%;">bye bye!</span>

**theMiddle** <span style="color: grey; font-size: 90%;">22:11:29 UTC</span>

<span style="font-size: 90%;">thanks, good nite!</span>

**dune73** <span style="color: grey; font-size: 90%;">22:11:42 UTC</span>

<span style="font-size: 90%;">Good night!</span>

**Emile** <span style="color: grey; font-size: 90%;">22:12:14 UTC</span>

<span style="font-size: 90%;">:wave:</span>

