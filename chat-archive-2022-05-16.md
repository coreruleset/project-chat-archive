### Mon, May 16th, 2022

**dune73** <span style="color: grey; font-size: 90%;">18:31:04 UTC</span>

<span style="font-size: 90%;">Hey, hey, it's meeting time. Who's around to talk about issues and bounties?</span>

**xanadu** <span style="color: grey; font-size: 90%;">18:31:12 UTC</span>

<span style="font-size: 90%;">:wave:</span>

**airween** <span style="color: grey; font-size: 90%;">18:31:49 UTC</span>

<span style="font-size: 90%;">I'm here, hi - but not familiar in bounties :stuck_out_tongue:</span>

**emphazer** <span style="color: grey; font-size: 90%;">18:31:51 UTC</span>

<span style="font-size: 90%;">hello everybody!</span>

**walter** <span style="color: grey; font-size: 90%;">18:32:09 UTC</span>

<span style="font-size: 90%;">hello!</span>

**theMiddle** <span style="color: grey; font-size: 90%;">18:33:15 UTC</span>

<span style="font-size: 90%;">hi!</span>

**dune73** <span style="color: grey; font-size: 90%;">18:33:39 UTC</span>

<span style="font-size: 90%;">Hi there. Good to see you. I do not know if _@fzipitria_ and _@azurIt_  will join us too.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:33:45 UTC</span>

<span style="font-size: 90%;">Franziska excused herself.</span>

**Paul Beckett** <span style="color: grey; font-size: 90%;">18:33:51 UTC</span>

<span style="font-size: 90%;">Good evening. I'm around but also having to help an eye on new puppy that I got on Saturday</span>

**walter** <span style="color: grey; font-size: 90%;">18:34:04 UTC</span>

<span style="font-size: 90%;">_@Paul Beckett_ nice!</span>

**maxleske** <span style="color: grey; font-size: 90%;">18:34:05 UTC</span>

<span style="font-size: 90%;">Hi</span>

**dune73** <span style="color: grey; font-size: 90%;">18:34:07 UTC</span>

<span style="font-size: 90%;">Hello _@Paul Beckett_ Good to see you. So how is that little dog!</span>

**walter** <span style="color: grey; font-size: 90%;">18:34:16 UTC</span>

<span style="font-size: 90%;">any pics?</span>

**dune73** <span style="color: grey; font-size: 90%;">18:34:17 UTC</span>

<span style="font-size: 90%;">Hello _@maxleske_!</span>

**maxleske** <span style="color: grey; font-size: 90%;">18:34:24 UTC</span>

<span style="font-size: 90%;">_@walter_ I finished up the PR tracking list</span>

**dune73** <span style="color: grey; font-size: 90%;">18:34:31 UTC</span>

<span style="font-size: 90%;">I saw a photo before. Very cute.</span>

**azurIt** <span style="color: grey; font-size: 90%;">18:34:33 UTC</span>

<span style="font-size: 90%;">Hi, I'm still here but just preparing the child for the sleep. I'm planning to come back but cannot tell the exact time.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:34:59 UTC</span>

<span style="font-size: 90%;">Hello _@azurIt_! Good luck and give her a kiss from us!</span>

**Paul Beckett** <span style="color: grey; font-size: 90%;">18:35:06 UTC</span>

<span style="font-size: 90%;">Amber (puppy) seems to be settling in well.</span>

**Paul Beckett** <span style="color: grey; font-size: 90%;">18:35:19 UTC</span>

<span style="font-size: 90%;">Not getting much sleep though, so pretty tired</span>

**Paul Beckett** <span style="color: grey; font-size: 90%;">18:35:35 UTC</span>

<span style="font-size: 90%;">Me that is. She's full of energy whenever she's not sleeping</span>

**dune73** <span style="color: grey; font-size: 90%;">18:35:48 UTC</span>

<span style="font-size: 90%;">Haha, so like a little child then?</span>

**Paul Beckett** <span style="color: grey; font-size: 90%;">18:36:28 UTC</span>

<span style="font-size: 90%;"></span>

**emphazer** <span style="color: grey; font-size: 90%;">18:36:57 UTC</span>

<span style="font-size: 90%;">sweeeet</span>

**walter** <span style="color: grey; font-size: 90%;">18:36:58 UTC</span>

<span style="font-size: 90%;">add to PL1</span>

**Paul Beckett** <span style="color: grey; font-size: 90%;">18:37:13 UTC</span>

<span style="font-size: 90%;">She's a labradoodle (Labrador crossed with poodle)</span>

**dune73** <span style="color: grey; font-size: 90%;">18:37:36 UTC</span>

<span style="font-size: 90%;">Haha, never heard of that combo. But she sure looks cute.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:38:24 UTC</span>

<span style="font-size: 90%;">_@emphazer_, I'll be in DÃ¼sseldorf around June 22. Are you in town? I'll be presenting at a conference.</span>

**emphazer** <span style="color: grey; font-size: 90%;">18:38:55 UTC</span>

<span style="font-size: 90%;">let me check</span>

**emphazer** <span style="color: grey; font-size: 90%;">18:39:09 UTC</span>

<span style="font-size: 90%;">yeah sounds good!</span>

**dune73** <span style="color: grey; font-size: 90%;">18:40:02 UTC</span>

<span style="font-size: 90%;">Cool. Then let's at least have a beer! I'll be in touch.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:40:22 UTC</span>

<span style="font-size: 90%;">I propose the following for the agenda:</span>

**emphazer** <span style="color: grey; font-size: 90%;">18:40:50 UTC</span>

<span style="font-size: 90%;">good idea!</span>

**dune73** <span style="color: grey; font-size: 90%;">18:40:52 UTC</span>

<span style="font-size: 90%;">We need to assess a last batch of bug bounty findings and that has to happen in private. So I suggest we deal with the other topics first.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:41:46 UTC</span>

<span style="font-size: 90%;">Roundup Bug Bounty: Private entity paid for this private program with handpicked WAF security specialists / researchers, accepting issues for 2 weeks, payout pool > 100K. We obtained over 150 findings.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:42:00 UTC</span>

<span style="font-size: 90%;">Many findings duplicates of course, but the sheer number is overwhelming.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:42:24 UTC</span>

<span style="font-size: 90%;">The number is so big, it will delay the CRS v4 release since we will want to fix those.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:42:52 UTC</span>

<span style="font-size: 90%;">Now is a period where the hunters can submit PRs and get money for PRs. This happens throughout the week. The findings without PR will be our job.</span>

**walter** <span style="color: grey; font-size: 90%;">18:42:54 UTC</span>

<span style="font-size: 90%;">Exactly. It will probably involve a lot of new rules, so 4.0 is still the best time to address them.</span>

**maxleske** <span style="color: grey; font-size: 90%;">18:43:37 UTC</span>

<span style="font-size: 90%;">At least that will give us some time to properly address the plugin issue... :confused:</span>

**dune73** <span style="color: grey; font-size: 90%;">18:43:45 UTC</span>

<span style="font-size: 90%;">Yes.</span>

**walter** <span style="color: grey; font-size: 90%;">18:43:48 UTC</span>

<span style="font-size: 90%;">Yes, good luck with the bad :slightly_smiling_face:</span>

**dune73** <span style="color: grey; font-size: 90%;">18:44:05 UTC</span>

<span style="font-size: 90%;">Any immediate questions on the bug bounty? (We'll return to it once we talked about the rest)</span>

**dune73** <span style="color: grey; font-size: 90%;">18:45:34 UTC</span>

<span style="font-size: 90%;">That does not seem to be the case.</span>

**walter** <span style="color: grey; font-size: 90%;">18:45:43 UTC</span>

<span style="font-size: 90%;">Crickets!</span>

**dune73** <span style="color: grey; font-size: 90%;">18:45:57 UTC</span>

<span style="font-size: 90%;">GSoC: _@fzipitria_ and I had a hard time selecting two viable project proposals.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:46:10 UTC</span>

<span style="font-size: 90%;">But we eventually made up our mind.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:46:42 UTC</span>

<span style="font-size: 90%;">We have a young female Indian student working on Machine Learning integration into CRS; coached by Franziska.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">18:48:46 UTC</span>

<span style="font-size: 90%;">:wave:</span>

**dune73** <span style="color: grey; font-size: 90%;">18:48:52 UTC</span>

<span style="font-size: 90%;">And a not quite as young Indian student working on linking the Trickest repository of CVE proof of concepts with the CRS sandbox. All automatically. He will be coached by _@fzipitria_.
The trickest guys are aware of this project and they are very open and supportive. In fact they reviewed the applications together with us.
What is very nice is that the young lady submitted the best application from the body of 7 which we ultimately received. 5 or so students got in touch, but never really submitted (But we also warned them that the competition for the Trickest thing was tough.)</span>

**dune73** <span style="color: grey; font-size: 90%;">18:50:51 UTC</span>

<span style="font-size: 90%;">There is a slack channel  where both projects are happening. Two of the trickest guys joined that as well. If you are interested, feel free to subscribe too. The more the better obviously.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">18:51:02 UTC</span>

<span style="font-size: 90%;">Not that one</span>

**maxleske** <span style="color: grey; font-size: 90%;">18:51:32 UTC</span>

<span style="font-size: 90%;">We can't access those channels. They are invite only</span>

**dune73** <span style="color: grey; font-size: 90%;">18:51:44 UTC</span>

<span style="font-size: 90%;">Got you. How do I open it?</span>

**fzipitria** <span style="color: grey; font-size: 90%;">18:51:55 UTC</span>

<span style="font-size: 90%;">Which one?</span>

**maxleske** <span style="color: grey; font-size: 90%;">18:52:00 UTC</span>

<span style="font-size: 90%;">Interested people just need to ask you</span>

**maxleske** <span style="color: grey; font-size: 90%;">18:52:13 UTC</span>

<span style="font-size: 90%;">Or did you want to make the channel public?</span>

**maxleske** <span style="color: grey; font-size: 90%;">18:52:25 UTC</span>

<span style="font-size: 90%;">Now I see it</span>

**dune73** <span style="color: grey; font-size: 90%;">18:52:30 UTC</span>

<span style="font-size: 90%;">It seems, my suffer from a bit of brain fog tonight.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:52:36 UTC</span>

<span style="font-size: 90%;">It's getting really hot around here. Sorry.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">18:52:41 UTC</span>

<span style="font-size: 90%;">Hahahha</span>

**dune73** <span style="color: grey; font-size: 90%;">18:52:50 UTC</span>

<span style="font-size: 90%;">So it's the  channel.</span>

**walter** <span style="color: grey; font-size: 90%;">18:53:02 UTC</span>

<span style="font-size: 90%;">Haha, same here. 25Âº AND rain. Glorious.</span>

**walter** <span style="color: grey; font-size: 90%;">18:53:53 UTC</span>

<span style="font-size: 90%;">Interesting Gsoc projects, hope they will go well.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:54:44 UTC</span>

<span style="font-size: 90%;">Is somebody sitting on the agenda? I can't edit.</span>

**walter** <span style="color: grey; font-size: 90%;">18:54:51 UTC</span>

<span style="font-size: 90%;">not me</span>

**dune73** <span style="color: grey; font-size: 90%;">18:55:04 UTC</span>

<span style="font-size: 90%;">Also nice move by GH, no longer letting us overwrite somebody else's edits.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:55:56 UTC</span>

<span style="font-size: 90%;">Anyway, the very issue, we really have to deal with together is plugin-related.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:55:57 UTC</span>

<span style="font-size: 90%;">[https://github.com/coreruleset/nextcloud-rule-exclusions-plugin/issues/2](https://github.com/coreruleset/nextcloud-rule-exclusions-plugin/issues/2)</span>

**dune73** <span style="color: grey; font-size: 90%;">18:57:51 UTC</span>

<span style="font-size: 90%;">The problem is that rule exclusion plugins might not only want to exclude certain rules. There is also a desire to change certain CRS variables, like adding WEBDAV methods to the list of allowed HTTP methods.
The problem: plugins run in phase 1 before rule 901-INIT had the time to initialize the variables to the default.</span>

**airween** <span style="color: grey; font-size: 90%;">18:57:59 UTC</span>

<span style="font-size: 90%;">hmm...

* ModSecurity version: 3.0.6</span>

**dune73** <span style="color: grey; font-size: 90%;">18:58:23 UTC</span>

<span style="font-size: 90%;">The ModSec version irrelevant here, I think.</span>

**airween** <span style="color: grey; font-size: 90%;">18:58:33 UTC</span>

<span style="font-size: 90%;">ah, right</span>

**dune73** <span style="color: grey; font-size: 90%;">18:58:53 UTC</span>

<span style="font-size: 90%;">We / I knew about this architecture shortcoming of the plugins, but I did not think it would bit us so hard and so fast.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">18:59:09 UTC</span>

<span style="font-size: 90%;">so the changes by plugin are replaced by our defaults?</span>

**walter** <span style="color: grey; font-size: 90%;">18:59:33 UTC</span>

<span style="font-size: 90%;">No, worse, the plugin doesnât know our defaults yet at load time, if I understand correctly.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:59:42 UTC</span>

<span style="font-size: 90%;">The natural move for the HTTP methods would be to expand the existing set of methods, but it's empty the moment it is running.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">18:59:46 UTC</span>

<span style="font-size: 90%;">ah</span>

**dune73** <span style="color: grey; font-size: 90%;">19:00:15 UTC</span>

<span style="font-size: 90%;">So an empty string get the WEBDAV vars, then 901-INIT runs, sees that the list of methods is non-empty, thinks it's been initalized in crs-setup.conf and does not touch it.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:00:52 UTC</span>

<span style="font-size: 90%;">So we end up with CRS runnign with the only allowed methods being the WEBDAV methods added by the rule exclusion plugin.</span>

**walter** <span style="color: grey; font-size: 90%;">19:01:38 UTC</span>

<span style="font-size: 90%;">A workaround could be to add our defaults there, but then the user customizations will be overwrittenâ¦</span>

**dune73** <span style="color: grey; font-size: 90%;">19:01:47 UTC</span>

<span style="font-size: 90%;">There are several ways to work around this / change the architecture but none of them is very elegant.</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:02:40 UTC</span>

<span style="font-size: 90%;">I think _@azurIt_ is on the right track. We should externalise the order of variable initialization, so that plugins can hook in whenever they need to.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:02:46 UTC</span>

<span style="font-size: 90%;">can't the plugin remove the CRS default specific rule that initialize the required variable?</span>

**dune73** <span style="color: grey; font-size: 90%;">19:02:49 UTC</span>

<span style="font-size: 90%;">Walter just named one. Another one - championed by _@azurIt_ - would be to remove the 901-INIT from the rules folder and move it next to crs-setup.conf and Include it separately before we run the plugin initialization.</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:03:08 UTC</span>

<span style="font-size: 90%;">_@theMiddle_ Then the plugin would have to set the original default too</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:03:17 UTC</span>

<span style="font-size: 90%;">And then we can't change the default</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:03:58 UTC</span>

<span style="font-size: 90%;">hmm yes probably we need to assume that a plugin can overwrite configurations... it's no more an exclusion ruleset</span>

**dune73** <span style="color: grey; font-size: 90%;">19:04:34 UTC</span>

<span style="font-size: 90%;">Adding up on Walter's proposal. The plugin could it do like the init variable: Instead of overwriting user customization, it could add the WEBDAV methods if there is already a variable. Or set the default first if it's empty.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:04:57 UTC</span>

<span style="font-size: 90%;">but yes, every workaround seems ugly and problematic for users</span>

**dune73** <span style="color: grey; font-size: 90%;">19:05:10 UTC</span>

<span style="font-size: 90%;">Exactly _@theMiddle_!</span>

**dune73** <span style="color: grey; font-size: 90%;">19:05:39 UTC</span>

<span style="font-size: 90%;">One question we should ask ourselves before committing to a solution is: Just how often will we face such a situation in a plugin.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:05:57 UTC</span>

<span style="font-size: 90%;">I only see RE plugins needing to change CRS variables as of now. But maybe I am wrong.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:06:23 UTC</span>

<span style="font-size: 90%;">And even the RE plugins rarely do this. So maybe it's not such a big deal and we do not need to uglify the whole project for a rare edge case.</span>

**walter** <span style="color: grey; font-size: 90%;">19:06:36 UTC</span>

<span style="font-size: 90%;">We could also have the plugin create a separate variable.</span>

**walter** <span style="color: grey; font-size: 90%;">19:06:52 UTC</span>

<span style="font-size: 90%;">And when evaluating, look at both variables.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:07:14 UTC</span>

<span style="font-size: 90%;">In which evaluation? 901? Or 9xx?</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:07:24 UTC</span>

<span style="font-size: 90%;">_@walter_ I was just thinking about that. It could even be done dynamically but it would involve a lot of work.</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:07:27 UTC</span>

<span style="font-size: 90%;">tx.allowed_methods and tx.allowed_methods_plugin or something similar?</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:07:55 UTC</span>

<span style="font-size: 90%;">You also don't know whether the plugin wants to update (e.g. append) or replace.</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:08:03 UTC</span>

<span style="font-size: 90%;">True.</span>

**walter** <span style="color: grey; font-size: 90%;">19:08:08 UTC</span>

<span style="font-size: 90%;">In the evaluation 911100</span>

**dune73** <span style="color: grey; font-size: 90%;">19:08:20 UTC</span>

<span style="font-size: 90%;">OK.</span>

**walter** <span style="color: grey; font-size: 90%;">19:08:27 UTC</span>

<span style="font-size: 90%;">Yeah, then the plugin would only be able to add.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:08:33 UTC</span>

<span style="font-size: 90%;">So we would chain that 2nd variable to 911100?</span>

**walter** <span style="color: grey; font-size: 90%;">19:08:44 UTC</span>

<span style="font-size: 90%;">Itâs not prettyâ¦</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:08:56 UTC</span>

<span style="font-size: 90%;">sounds less ugly than the others</span>

**dune73** <span style="color: grey; font-size: 90%;">19:08:59 UTC</span>

<span style="font-size: 90%;">But maybe prettier than the other proposals.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:09:29 UTC</span>

<span style="font-size: 90%;">I'd rather try this, before we add another include and shift 901 to a different location.</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:09:52 UTC</span>

<span style="font-size: 90%;">It's just not flexible enough IMO. We're talking about a single use case here but I just know that we'll leave something out</span>

**walter** <span style="color: grey; font-size: 90%;">19:10:08 UTC</span>

<span style="font-size: 90%;">Yes, maybe we will get the same problem with other settingsâ¦</span>

**walter** <span style="color: grey; font-size: 90%;">19:10:15 UTC</span>

<span style="font-size: 90%;">Itâs not generic</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:10:21 UTC</span>

<span style="font-size: 90%;">Consider the case of the DoS plugin that wants to set the request timeout (??) variable.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:10:27 UTC</span>

<span style="font-size: 90%;">Yes, but when we only know a single use case, then we probably should not aim for the holistic solution.</span>

**walter** <span style="color: grey; font-size: 90%;">19:10:34 UTC</span>

<span style="font-size: 90%;">At the other hand I am not too fond of plugins altering config variables in the first placeâ¦</span>

**walter** <span style="color: grey; font-size: 90%;">19:10:57 UTC</span>

<span style="font-size: 90%;">But who knows what the future will bring</span>

**dune73** <span style="color: grey; font-size: 90%;">19:11:13 UTC</span>

<span style="font-size: 90%;">The docs says you should not do it unless you have to. And I only see a single RE plugin do this so far. Correct me if I'm wrong.</span>

**walter** <span style="color: grey; font-size: 90%;">19:11:40 UTC</span>

<span style="font-size: 90%;">I think you are correct</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:11:57 UTC</span>

<span style="font-size: 90%;">and should we do something similar for all other default setting? I mean default and default_from_plugin ?</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:12:11 UTC</span>

<span style="font-size: 90%;">I think several do. For example, Nextcloud does
setvar:'tx.restricted_extensions=.bak/ .config/ .conf/'"</span>

**walter** <span style="color: grey; font-size: 90%;">19:12:12 UTC</span>

<span style="font-size: 90%;">well hopefully notâ¦</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:12:35 UTC</span>

<span style="font-size: 90%;">Thanks _@xanadu_ that's what I was looking for</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:13:18 UTC</span>

<span style="font-size: 90%;">maybe after a closer look we'll find other defaults that may need to be changed from plugins</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:13:21 UTC</span>

<span style="font-size: 90%;">And this: [https://github.com/coreruleset/dos-protection-plugin-modsecurity-v2/issues/1](https://github.com/coreruleset/dos-protection-plugin-modsecurity-v2/issues/1)</span>

**dune73** <span style="color: grey; font-size: 90%;">19:13:25 UTC</span>

<span style="font-size: 90%;">Thank you _@xanadu_ and that is actually a variable that is more frequently changed and customized than the HTTP methods. So it's a better example to find a solution for.</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:13:48 UTC</span>

<span style="font-size: 90%;">(not strictly in the same category)</span>

**walter** <span style="color: grey; font-size: 90%;">19:14:12 UTC</span>

<span style="font-size: 90%;">What about leaving it in the hands of the user, and in the pluginâs readme, tell the user to modify crs-setup.conf?</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:14:37 UTC</span>

<span style="font-size: 90%;">_@maxleske_ I think that just needs a big warning on the front page: "CAUTION: this plugin sets ModSec directive X."</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:14:43 UTC</span>

<span style="font-size: 90%;">On my todo listâ¦</span>

**dune73** <span style="color: grey; font-size: 90%;">19:14:47 UTC</span>

<span style="font-size: 90%;">That would also be an option of course. Makes plugin integration harder for integrators, though.</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:14:49 UTC</span>

<span style="font-size: 90%;">Yes, agreed</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:14:50 UTC</span>

<span style="font-size: 90%;">I think it should be the cleaner way but not user-friendly</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:15:05 UTC</span>

<span style="font-size: 90%;">(and I like it :smile:)</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:15:15 UTC</span>

<span style="font-size: 90%;">My vote is for most flexible, regardless of user-friendliness.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:15:25 UTC</span>

<span style="font-size: 90%;">agree</span>

**dune73** <span style="color: grey; font-size: 90%;">19:15:55 UTC</span>

<span style="font-size: 90%;">Most flexible would be "tell the user to configure accordingly"?</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:16:04 UTC</span>

<span style="font-size: 90%;">:smile:</span>

**walter** <span style="color: grey; font-size: 90%;">19:16:05 UTC</span>

<span style="font-size: 90%;">It might even be more clear for the user in the end. Cause the variables are still in one place, and not modified by scripts that are opaque for the user.</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:17:08 UTC</span>

<span style="font-size: 90%;">_@dune73_ No, not exactly. I meant to say that I want a reasonable way that works in general but gives us the flexibility we need. I think _@azurIt_'s proposal does that.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:17:40 UTC</span>

<span style="font-size: 90%;">Azurit's proposal that moves 901 to the CRS root folder?</span>

**dune73** <span style="color: grey; font-size: 90%;">19:17:54 UTC</span>

<span style="font-size: 90%;">And adds an additional include?</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:17:56 UTC</span>

<span style="font-size: 90%;">One of the two, yes</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:18:17 UTC</span>

<span style="font-size: 90%;">(at least from what I read. I haven't spent time with it)</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:18:55 UTC</span>

<span style="font-size: 90%;">And I'm not saying that I understand the implications that this move would have for existing users or configuring the system in general. That's your field of expertise.</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:19:26 UTC</span>

<span style="font-size: 90%;">If someone is installing and using ModSecurity + CRS they can surely cope with one additional Include directive.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:19:47 UTC</span>

<span style="font-size: 90%;">it make sense</span>

**dune73** <span style="color: grey; font-size: 90%;">19:19:59 UTC</span>

<span style="font-size: 90%;">For the record: CRS 3: 2 Includes. CRS 4: 8 includes</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:20:39 UTC</span>

<span style="font-size: 90%;">It isn't elegant, but you set it up once and forget it.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:21:07 UTC</span>

<span style="font-size: 90%;">2 includes? you mean setup.conf and rules/*.conf ?</span>

**dune73** <span style="color: grey; font-size: 90%;">19:21:07 UTC</span>

<span style="font-size: 90%;">What we have in RC1 is 5 includes by the way.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:21:41 UTC</span>

<span style="font-size: 90%;">I'd really hate to add 3 includes to cope with these special cases. Admittedly it's no longer a single edge case.</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:21:58 UTC</span>

<span style="font-size: 90%;">Can we add the Includes to an Include file? (I'm only half joking.)</span>

**walter** <span style="color: grey; font-size: 90%;">19:22:04 UTC</span>

<span style="font-size: 90%;">Sadly not :disappointed:</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:22:10 UTC</span>

<span style="font-size: 90%;">Aw. Ok.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:22:13 UTC</span>

<span style="font-size: 90%;">We could but it's no longer transparent.</span>

**walter** <span style="color: grey; font-size: 90%;">19:22:34 UTC</span>

<span style="font-size: 90%;">Could we? Then maybe thatâs a user-friendly solution.</span>

**walter** <span style="color: grey; font-size: 90%;">19:22:53 UTC</span>

<span style="font-size: 90%;">Our hacks will be hidden from them.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:23:04 UTC</span>

<span style="font-size: 90%;">I think it would break.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:23:23 UTC</span>

<span style="font-size: 90%;">If we could, then we could hide all includes into crs-setup.conf.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:24:03 UTC</span>

<span style="font-size: 90%;">And people who want different setups for the plugins suddenly can't do that anymore because the includes happen in some obscure file outside of their control.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:24:30 UTC</span>

<span style="font-size: 90%;">I see it would be nice to hide the hacks and look elegant on the surface, but it's like sweeping the dirt under the rug.</span>

**Paul Beckett** <span style="color: grey; font-size: 90%;">19:25:30 UTC</span>

<span style="font-size: 90%;">Do we think name people have very non-standard deployments? In terms of CRS layout. I know I do, but assumed I'm in a very small group.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:26:00 UTC</span>

<span style="font-size: 90%;">CRS integrators definitely do. But they would probably be able to cope.</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:26:03 UTC</span>

<span style="font-size: 90%;">Yes.</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:26:10 UTC</span>

<span style="font-size: 90%;">And yes.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:26:14 UTC</span>

<span style="font-size: 90%;">Everybody else: Depends. Hard to tell.</span>

**walter** <span style="color: grey; font-size: 90%;">19:26:57 UTC</span>

<span style="font-size: 90%;">For me it would just be modifying a single puppet file.</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:27:19 UTC</span>

<span style="font-size: 90%;">I can only speak for myself as a simple user: I would rather have 8 includes that I can read and know what they do than having to understand the interworkings of plugins when they obscurely change my default values :slightly_smiling_face:</span>

â³ **airween** <span style="color: grey; font-size: 90%;">19:27:57 UTC</span>

<span style="font-size: 90%;">I can only speak for myself as a simple user - but you are not a simple user :slightly_smiling_face:</span>

â³ **maxleske** <span style="color: grey; font-size: 90%;">19:28:17 UTC</span>

<span style="font-size: 90%;">:smile:</span>

**walter** <span style="color: grey; font-size: 90%;">19:27:20 UTC</span>

<span style="font-size: 90%;">I would hate it, but just for a few minutes.</span>

**airween** <span style="color: grey; font-size: 90%;">19:27:57 UTC</span>

<span style="font-size: 90%;">I can only speak for myself as a simple user - but you are not a simple user :slightly_smiling_face:</span>

â³ **airween** <span style="color: grey; font-size: 90%;">19:27:57 UTC</span>

<span style="font-size: 90%;">I can only speak for myself as a simple user - but you are not a simple user :slightly_smiling_face:</span>

â³ **maxleske** <span style="color: grey; font-size: 90%;">19:28:17 UTC</span>

<span style="font-size: 90%;">:smile:</span>

**walter** <span style="color: grey; font-size: 90%;">19:28:13 UTC</span>

<span style="font-size: 90%;">Yes, thatâs a good point _@maxleske_. Abstractions can be good, but sometimes a bit of copying is better than a bit of abstraction.</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:28:17 UTC</span>

<span style="font-size: 90%;">:smile:</span>

â³ **airween** <span style="color: grey; font-size: 90%;">19:27:57 UTC</span>

<span style="font-size: 90%;">I can only speak for myself as a simple user - but you are not a simple user :slightly_smiling_face:</span>

â³ **maxleske** <span style="color: grey; font-size: 90%;">19:28:17 UTC</span>

<span style="font-size: 90%;">:smile:</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:28:42 UTC</span>

<span style="font-size: 90%;">(don't get me started on dependency injection...)</span>

**dune73** <span style="color: grey; font-size: 90%;">19:28:49 UTC</span>

<span style="font-size: 90%;">I'll do a T-Shirt with the face of Max stating "myself as a simple user ..." :rolling_on_the_floor_laughing:</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:29:11 UTC</span>

<span style="font-size: 90%;">We could always insert comments to explain what each include does, if it helps make it simpler to understand, too.</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:30:08 UTC</span>

<span style="font-size: 90%;">Yes _@xanadu_, I actually thought about some borders with comments, like
########## lfisjeflij ##########
include ...
include...
###############################
...</span>

**dune73** <span style="color: grey; font-size: 90%;">19:30:22 UTC</span>

<span style="font-size: 90%;">Good, so I see most of you seem to favour a less-elegant over an obscure solution. And you think we should come up with something for good for v4 and not simply postponing the problem.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:30:42 UTC</span>

<span style="font-size: 90%;">what about including all ruleset instead using the wildcard rules/*.conf (_@dune73_don't kill me) ? then we can easily follow the _@azurIt_ solution</span>

**dune73** <span style="color: grey; font-size: 90%;">19:30:45 UTC</span>

<span style="font-size: 90%;">Also: No need to decide on a solution tonight. But it's good to know where the project is standing.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:30:52 UTC</span>

<span style="font-size: 90%;">(as I do in my production)</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:31:10 UTC</span>

<span style="font-size: 90%;">Isn't that required with Nginx anyway, to get the correct order?</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:31:17 UTC</span>

<span style="font-size: 90%;">Or it used to?</span>

**walter** <span style="color: grey; font-size: 90%;">19:31:24 UTC</span>

<span style="font-size: 90%;">I think Nginx fixed thisâ¦</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:31:28 UTC</span>

<span style="font-size: 90%;">yep</span>

**walter** <span style="color: grey; font-size: 90%;">19:31:28 UTC</span>

<span style="font-size: 90%;">but donât hit me</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:31:28 UTC</span>

<span style="font-size: 90%;">Ah :slightly_smiling_face:</span>

**airween** <span style="color: grey; font-size: 90%;">19:31:32 UTC</span>

<span style="font-size: 90%;">there are tons of user issues on StackOverflow and other forums with ModSecurity's "duplicate id's" subject... I'm afraid more includes lead more issues like this</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:32:15 UTC</span>

<span style="font-size: 90%;">Then we add that to the documentation...?</span>

â³ **airween** <span style="color: grey; font-size: 90%;">19:32:52 UTC</span>

<span style="font-size: 90%;">wait... you think users read the documentation? :stuck_out_tongue:</span>

â³ **maxleske** <span style="color: grey; font-size: 90%;">19:33:33 UTC</span>

<span style="font-size: 90%;">As a simple user... of course not!</span>

**dune73** <span style="color: grey; font-size: 90%;">19:32:37 UTC</span>

<span style="font-size: 90%;">If people would read the docs, it would not be a thing on SO.</span>

**airween** <span style="color: grey; font-size: 90%;">19:32:52 UTC</span>

<span style="font-size: 90%;">wait... you think users read the documentation? :stuck_out_tongue:</span>

â³ **airween** <span style="color: grey; font-size: 90%;">19:32:52 UTC</span>

<span style="font-size: 90%;">wait... you think users read the documentation? :stuck_out_tongue:</span>

â³ **maxleske** <span style="color: grey; font-size: 90%;">19:33:33 UTC</span>

<span style="font-size: 90%;">As a simple user... of course not!</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:32:54 UTC</span>

<span style="font-size: 90%;">Yes, but at least we'll have something to point to.</span>

**xanadu** <span style="color: grey; font-size: 90%;">19:33:13 UTC</span>

<span style="font-size: 90%;">"Hi SO user, CRS Dev on Duty here. Kindly RTFM."</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:33:33 UTC</span>

<span style="font-size: 90%;">As a simple user... of course not!</span>

â³ **airween** <span style="color: grey; font-size: 90%;">19:32:52 UTC</span>

<span style="font-size: 90%;">wait... you think users read the documentation? :stuck_out_tongue:</span>

â³ **maxleske** <span style="color: grey; font-size: 90%;">19:33:33 UTC</span>

<span style="font-size: 90%;">As a simple user... of course not!</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:34:47 UTC</span>

<span style="font-size: 90%;">_@airween_ I don't quite understand why you think there will be more issues. What is the underlying cause for the problems?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:34:47 UTC</span>

<span style="font-size: 90%;">idk if rules has to be placed in a specific orther, than I don't see advantage to do Include rules/*.conf</span>

**dune73** <span style="color: grey; font-size: 90%;">19:34:48 UTC</span>

<span style="font-size: 90%;">Good. Should we end this conversation for the time being. As things stand, we have several weeks to reach a consensus here and there is no need to rush a decision.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:34:55 UTC</span>

<span style="font-size: 90%;">but that's my point of view</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:34:56 UTC</span>

<span style="font-size: 90%;">That they place the same include twice?</span>

**airween** <span style="color: grey; font-size: 90%;">19:35:34 UTC</span>

<span style="font-size: 90%;">yes, for eg.</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:35:51 UTC</span>

<span style="font-size: 90%;">(_@theMiddle_ I also used to list the rules explicitly so I could remove some and add our own rules file without polluting the CRS directory)</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:36:12 UTC</span>

<span style="font-size: 90%;">I mean this: [https://github.com/coreruleset/nextcloud-rule-exclusions-plugin/issues/2#issuecomment-1115971640](https://github.com/coreruleset/nextcloud-rule-exclusions-plugin/issues/2#issuecomment-1115971640) but without moving the INIT and replacing the "wildcard include"</span>

**dune73** <span style="color: grey; font-size: 90%;">19:37:06 UTC</span>

<span style="font-size: 90%;">You guys want to look into additional issues - not so urgent - or we move to the private channel to talk about bug bounty?</span>

**dune73** <span style="color: grey; font-size: 90%;">19:37:16 UTC</span>

<span style="font-size: 90%;">In fact there is quite a bit of work waiting for us there.</span>

**walter** <span style="color: grey; font-size: 90%;">19:37:23 UTC</span>

<span style="font-size: 90%;">Yes.. :smiling_face_with_tear:</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:37:24 UTC</span>

<span style="font-size: 90%;">yep</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:37:34 UTC</span>

<span style="font-size: 90%;">Go ahead. I'm looking forward to going to bed :stuck_out_tongue:</span>

**dune73** <span style="color: grey; font-size: 90%;">19:38:34 UTC</span>

<span style="font-size: 90%;">OK, over to  then. Good night everybody who joined from the community.</span>

**walter** <span style="color: grey; font-size: 90%;">19:39:05 UTC</span>

<span style="font-size: 90%;">or maybe to ?</span>

**dune73** <span style="color: grey; font-size: 90%;">19:39:37 UTC</span>

<span style="font-size: 90%;">But _@airween_ is not in said channel. I'm open for both.</span>

**maxleske** <span style="color: grey; font-size: 90%;">19:39:51 UTC</span>

<span style="font-size: 90%;">bb</span>

**walter** <span style="color: grey; font-size: 90%;">19:40:20 UTC</span>

<span style="font-size: 90%;">Alright letâs go for  then :slightly_smiling_face:</span>

