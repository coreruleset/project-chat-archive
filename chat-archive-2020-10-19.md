### Mon, Oct 19th, 2020

**dune73** <span style="color: grey; font-size: 90%;">18:31:17 UTC</span>

<span style="font-size: 90%;">Hello everybody. It's issues time!</span>

**dune73** <span style="color: grey; font-size: 90%;">18:32:04 UTC</span>

<span style="font-size: 90%;">Our agenda is at [https://github.com/coreruleset/coreruleset/issues/1892](https://github.com/coreruleset/coreruleset/issues/1892)</span>

**walter** <span style="color: grey; font-size: 90%;">18:32:12 UTC</span>

<span style="font-size: 90%;">hello!</span>

**dune73** <span style="color: grey; font-size: 90%;">18:32:25 UTC</span>

<span style="font-size: 90%;">We have 6 issues prepared for tonight. So there are 4 empty slots for more stuff.</span>

**franbuehler** <span style="color: grey; font-size: 90%;">18:32:27 UTC</span>

<span style="font-size: 90%;">Hello</span>

**airween** <span style="color: grey; font-size: 90%;">18:32:35 UTC</span>

<span style="font-size: 90%;">:wave:</span>

**dune73** <span style="color: grey; font-size: 90%;">18:32:45 UTC</span>

<span style="font-size: 90%;">Hello, hello!</span>

**dune73** <span style="color: grey; font-size: 90%;">18:33:46 UTC</span>

<span style="font-size: 90%;">With the 4 of us, the quorum is already better than the last time. :slightly_smiling_face:</span>

**theMiddle** <span style="color: grey; font-size: 90%;">18:33:59 UTC</span>

<span style="font-size: 90%;">hello</span>

**dune73** <span style="color: grey; font-size: 90%;">18:34:04 UTC</span>

<span style="font-size: 90%;">_@fgs_ said he will try to join us as well.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:34:14 UTC</span>

<span style="font-size: 90%;">Hello _@theMiddle_!</span>

**dune73** <span style="color: grey; font-size: 90%;">18:34:22 UTC</span>

<span style="font-size: 90%;">5!</span>

**dune73** <span style="color: grey; font-size: 90%;">18:35:10 UTC</span>

<span style="font-size: 90%;">I get the feeling, we are getting more and more reports for FPs. I take this as a sign of more CRS deployments - or more people caring enough to report their issues.
What is your impression?</span>

**walter** <span style="color: grey; font-size: 90%;">18:36:23 UTC</span>

<span style="font-size: 90%;">I have the same feeling. It seems the uptake is growing and therefore the number of FPs</span>

**airween** <span style="color: grey; font-size: 90%;">18:36:29 UTC</span>

<span style="font-size: 90%;">I think the second think is closer to reality. More and more people starts to fill the bugreport.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">18:36:53 UTC</span>

<span style="font-size: 90%;">maybe both, and plus when I push a new rule in PL1 and start the panic :joy:</span>

**walter** <span style="color: grey; font-size: 90%;">18:37:04 UTC</span>

<span style="font-size: 90%;">CRS2 used to be a little fringe, it was only for the hardcore sysadmins. CRS3 is becoming more something to use on vanilla setups</span>

**dune73** <span style="color: grey; font-size: 90%;">18:37:07 UTC</span>

<span style="font-size: 90%;">:joy:</span>

**dune73** <span style="color: grey; font-size: 90%;">18:37:58 UTC</span>

<span style="font-size: 90%;">Yes, that might be the case. With 3.0, everybody felt relieved at the lower FP numbers. With fewer people remembering that period, they get more upset with the FPs they have.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:38:57 UTC</span>

<span style="font-size: 90%;">Also: I see less and less read my Rule-Exclusion Tutorial. There is still a general trend upwards, but not for the Exclusion Tutorial. I read this as Rule Exclusion knowhow is no longer a necessity to run CRS. So people no longer know how to help themselves.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:39:37 UTC</span>

<span style="font-size: 90%;">Also: It's easier to get CRS in the cloud these days, but these offerings do not allow you to do rule exclusions easily.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:39:46 UTC</span>

<span style="font-size: 90%;">So they have to report and hope for the best.</span>

**walter** <span style="color: grey; font-size: 90%;">18:39:55 UTC</span>

<span style="font-size: 90%;">That seems true yes!</span>

**walter** <span style="color: grey; font-size: 90%;">18:40:35 UTC</span>

<span style="font-size: 90%;">I have little experience but besides the new project by Ruben, I haven’t heard of good “feedback loops” where you click on a FP and create an exclusion from it. Would not seem like a hard feature to add to cloud-based WAFs.</span>

↳ **airween** <span style="color: grey; font-size: 90%;">18:41:59 UTC</span>

<span style="font-size: 90%;">I have been thinking a new project which will something like this since few weeks.</span>

↳ **Slackbot** <span style="color: grey; font-size: 90%;">18:42:00 UTC</span>

<span style="font-size: 90%;">You want to start a new project? <https://owasporg.atlassian.net/servicedesk/customer/portal/7/create/70?src=-1419759666></span>

↳ **walter** <span style="color: grey; font-size: 90%;">18:42:47 UTC</span>

<span style="font-size: 90%;">Yeah I’ve also been mulling about it. Something that would parse the audit log and output a rule.</span>

↳ **airween** <span style="color: grey; font-size: 90%;">18:42:58 UTC</span>

<span style="font-size: 90%;">exactly...</span>

**Slackbot** <span style="color: grey; font-size: 90%;">18:40:36 UTC</span>

<span style="font-size: 90%;">You want to start a new project? <https://owasporg.atlassian.net/servicedesk/customer/portal/7/create/70?src=-1419759666></span>

**walter** <span style="color: grey; font-size: 90%;">18:40:49 UTC</span>

<span style="font-size: 90%;">@Slackbot no</span>

**dune73** <span style="color: grey; font-size: 90%;">18:41:32 UTC</span>

<span style="font-size: 90%;">Now, that would be simple, but the integrators do minimal integration. Maybe the idea is to wait for commercial offerings doing the job for them.</span>

**walter** <span style="color: grey; font-size: 90%;">18:41:50 UTC</span>

<span style="font-size: 90%;">Sooner or later they will pretty much have to, I guess!</span>

**airween** <span style="color: grey; font-size: 90%;">18:41:59 UTC</span>

<span style="font-size: 90%;">I have been thinking a new project which will something like this since few weeks.</span>

↳ **airween** <span style="color: grey; font-size: 90%;">18:41:59 UTC</span>

<span style="font-size: 90%;">I have been thinking a new project which will something like this since few weeks.</span>

↳ **Slackbot** <span style="color: grey; font-size: 90%;">18:42:00 UTC</span>

<span style="font-size: 90%;">You want to start a new project? <https://owasporg.atlassian.net/servicedesk/customer/portal/7/create/70?src=-1419759666></span>

↳ **walter** <span style="color: grey; font-size: 90%;">18:42:47 UTC</span>

<span style="font-size: 90%;">Yeah I’ve also been mulling about it. Something that would parse the audit log and output a rule.</span>

↳ **airween** <span style="color: grey; font-size: 90%;">18:42:58 UTC</span>

<span style="font-size: 90%;">exactly...</span>

**dune73** <span style="color: grey; font-size: 90%;">18:42:35 UTC</span>

<span style="font-size: 90%;">I see a chance for a commerical company doing $cloud integration, attracting customers and then get purchased by the $cloud owner for a few millions.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:43:55 UTC</span>

<span style="font-size: 90%;">Something similar might be in the book for Ruben, actually.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:45:05 UTC</span>

<span style="font-size: 90%;">Anyways, shall we start?</span>

**dune73** <span style="color: grey; font-size: 90%;">18:46:22 UTC</span>

<span style="font-size: 90%;">[#1197](https://github.com/coreruleset/coreruleset/issues/#1197) has been open for a while and I think it must be low hanging fruit. Nexcloud FP. Any takers?</span>

**walter** <span style="color: grey; font-size: 90%;">18:47:46 UTC</span>

<span style="font-size: 90%;">ideally it would be someone who has worked on these Nextcloud rules, but I don’t know if that’s possible</span>

**walter** <span style="color: grey; font-size: 90%;">18:48:27 UTC</span>

<span style="font-size: 90%;">it looks like it would be some work to set up Nextcloud…</span>

**dune73** <span style="color: grey; font-size: 90%;">18:48:52 UTC</span>

<span style="font-size: 90%;">Do we have to? Or can we just fix the FPs based on the report?</span>

**dune73** <span style="color: grey; font-size: 90%;">18:50:41 UTC</span>

<span style="font-size: 90%;">The issue went stale and I thought it worthwhile to reactivate to fix this, given we have NextCloud rule exclusions. But if nobody is interested, we can also close the issue.</span>

**walter** <span style="color: grey; font-size: 90%;">18:51:01 UTC</span>

<span style="font-size: 90%;">maybe we can @ some people who have worked on the Nextcloud rules?</span>

**walter** <span style="color: grey; font-size: 90%;">18:52:12 UTC</span>

<span style="font-size: 90%;">I think ntimo did a lot of work, emphazer too, bagley..</span>

**dune73** <span style="color: grey; font-size: 90%;">18:52:55 UTC</span>

<span style="font-size: 90%;">Yes, I think it was said bagley and then emphazer. Maybe we can tentatively assign to him and if he is not interested, we close. OK?</span>

**walter** <span style="color: grey; font-size: 90%;">18:53:08 UTC</span>

<span style="font-size: 90%;">agreed!</span>

**franbuehler** <span style="color: grey; font-size: 90%;">18:53:09 UTC</span>

<span style="font-size: 90%;">I'm not sure if we have to reproduce it. I'm not sure if we have all the information.</span>

**walter** <span style="color: grey; font-size: 90%;">18:53:38 UTC</span>

<span style="font-size: 90%;">it guess it would probably be easy to check out if you have a Nextcloud install active</span>

**dune73** <span style="color: grey; font-size: 90%;">18:54:04 UTC</span>

<span style="font-size: 90%;">It's a lot of FPs in a single report. So maybe an 80% approach would be a start.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:54:20 UTC</span>

<span style="font-size: 90%;">Anyway, we'll ask emphazer.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:54:38 UTC</span>

<span style="font-size: 90%;">Next one: A proposal from _@fzipitria_, that we never really talked through.</span>

**Emile** <span style="color: grey; font-size: 90%;">18:54:38 UTC</span>

<span style="font-size: 90%;">:wave:</span>

**dune73** <span style="color: grey; font-size: 90%;">18:54:43 UTC</span>

<span style="font-size: 90%;">Hey _@Emile_!</span>

**dune73** <span style="color: grey; font-size: 90%;">18:54:53 UTC</span>

<span style="font-size: 90%;">That is [#1589](https://github.com/coreruleset/coreruleset/issues/#1589)</span>

**dune73** <span style="color: grey; font-size: 90%;">18:56:03 UTC</span>

<span style="font-size: 90%;">_@azurIt_ picked this up again two weeks again. I think we were almost done last year, but then there was never a PR.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:56:21 UTC</span>

<span style="font-size: 90%;">s/again/ago/</span>

**walter** <span style="color: grey; font-size: 90%;">18:58:06 UTC</span>

<span style="font-size: 90%;">I think we have precedents, as we are excluding some requests from 127.0.0.1 for cPanel.. (9005100), we could add an exclusion package for a monitoring tool, or we could do a cover-all exclusion package… in case of cPanel we have an exclusion package that just has one rule. that approach seems fine to me</span>

**dune73** <span style="color: grey; font-size: 90%;">18:59:11 UTC</span>

<span style="font-size: 90%;">I'm fine as long as we limit this to 127.0.0.1.</span>

**dune73** <span style="color: grey; font-size: 90%;">18:59:20 UTC</span>

<span style="font-size: 90%;">Azurit has something different in mind though.</span>

**walter** <span style="color: grey; font-size: 90%;">18:59:26 UTC</span>

<span style="font-size: 90%;">yes, I see that fine rule 9005100 is also including ::1 which we shouldn’t forget</span>

**walter** <span style="color: grey; font-size: 90%;">19:00:11 UTC</span>

<span style="font-size: 90%;">it would mostly be a copy-paste so good issue to tackle</span>

**dune73** <span style="color: grey; font-size: 90%;">19:00:31 UTC</span>

<span style="font-size: 90%;">Volunteers?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:03:07 UTC</span>

<span style="font-size: 90%;">if I understand correctly, we want to create a user agent whitelist for monit tools and an IP whitelist for the whole CRS?</span>

**dune73** <span style="color: grey; font-size: 90%;">19:03:34 UTC</span>

<span style="font-size: 90%;">Yes</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:03:57 UTC</span>

<span style="font-size: 90%;">ok if no one want keep it, I try</span>

**dune73** <span style="color: grey; font-size: 90%;">19:04:40 UTC</span>

<span style="font-size: 90%;">That would be nice. Thank you.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:05:35 UTC</span>

<span style="font-size: 90%;">Next is 1845, but it's actually a PR by _@fgs_...</span>

**dune73** <span style="color: grey; font-size: 90%;">19:06:05 UTC</span>

<span style="font-size: 90%;">And it needs work.</span>

**airween** <span style="color: grey; font-size: 90%;">19:06:08 UTC</span>

<span style="font-size: 90%;">yes, but there is an additionally info</span>

**airween** <span style="color: grey; font-size: 90%;">19:06:13 UTC</span>

<span style="font-size: 90%;">[https://github.com/SpiderLabs/ModSecurity/issues/2118#issuecomment-710646493](https://github.com/SpiderLabs/ModSecurity/issues/2118#issuecomment-710646493)</span>

**airween** <span style="color: grey; font-size: 90%;">19:07:03 UTC</span>

<span style="font-size: 90%;">we've started this idea with _@fgs_ in June of 2019</span>

**fzipitria** <span style="color: grey; font-size: 90%;">19:07:16 UTC</span>

<span style="font-size: 90%;">(hey!, I'm in a sprint planning call)</span>

**airween** <span style="color: grey; font-size: 90%;">19:07:18 UTC</span>

<span style="font-size: 90%;">now we get an answer</span>

**dune73** <span style="color: grey; font-size: 90%;">19:07:29 UTC</span>

<span style="font-size: 90%;">Hi _@fzipitria_!</span>

**fzipitria** <span style="color: grey; font-size: 90%;">19:07:35 UTC</span>

<span style="font-size: 90%;">Hey</span>

**fzipitria** <span style="color: grey; font-size: 90%;">19:07:49 UTC</span>

<span style="font-size: 90%;">(im context switching between slack and zoom)</span>

**dune73** <span style="color: grey; font-size: 90%;">19:07:55 UTC</span>

<span style="font-size: 90%;">_@theMiddle_ will try and do a PR based on your [#1589](https://github.com/coreruleset/coreruleset/issues/#1589).</span>

**fzipitria** <span style="color: grey; font-size: 90%;">19:08:00 UTC</span>

<span style="font-size: 90%;">Cool!</span>

**fzipitria** <span style="color: grey; font-size: 90%;">19:08:12 UTC</span>

<span style="font-size: 90%;">Makes sense</span>

**fzipitria** <span style="color: grey; font-size: 90%;">19:08:16 UTC</span>

<span style="font-size: 90%;">Too much time sitting there</span>

**dune73** <span style="color: grey; font-size: 90%;">19:08:36 UTC</span>

<span style="font-size: 90%;">_@airween_: Do we have enough for [#1845](https://github.com/coreruleset/coreruleset/issues/#1845), or do we need to postpone to November and somebody pushes the stuff in the meantime?</span>

**airween** <span style="color: grey; font-size: 90%;">19:09:16 UTC</span>

<span style="font-size: 90%;">for [#1845](https://github.com/coreruleset/coreruleset/issues/#1845): I would like to discuss with _@fgs_</span>

**dune73** <span style="color: grey; font-size: 90%;">19:09:38 UTC</span>

<span style="font-size: 90%;">OK. Can you lead this with _@fgs_ and we are done for tonight?</span>

**airween** <span style="color: grey; font-size: 90%;">19:10:14 UTC</span>

<span style="font-size: 90%;">tonight?</span>

**airween** <span style="color: grey; font-size: 90%;">19:11:01 UTC</span>

<span style="font-size: 90%;">will see...</span>

**dune73** <span style="color: grey; font-size: 90%;">19:11:33 UTC</span>

<span style="font-size: 90%;">We leave the topic and move to the next issue and you will try and push things forward until the November chat. Ideally the PR will be ready to be merged by then. :slightly_smiling_face:</span>

**airween** <span style="color: grey; font-size: 90%;">19:11:53 UTC</span>

<span style="font-size: 90%;">okay</span>

**walter** <span style="color: grey; font-size: 90%;">19:12:29 UTC</span>

<span style="font-size: 90%;">I see there has been input on [#1893](https://github.com/coreruleset/coreruleset/issues/#1893) and I will take this up with azurit in the coming days.</span>

**walter** <span style="color: grey; font-size: 90%;">19:12:45 UTC</span>

<span style="font-size: 90%;">there are some small rough edges we need to figure out</span>

**dune73** <span style="color: grey; font-size: 90%;">19:13:10 UTC</span>

<span style="font-size: 90%;">Very welcome. Thanks.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:13:16 UTC</span>

<span style="font-size: 90%;">And thank you _@airween_.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:14:03 UTC</span>

<span style="font-size: 90%;">[#1883](https://github.com/coreruleset/coreruleset/issues/#1883) is also by _@azurIt_ and _@airween_ proposed a solution.</span>

**airween** <span style="color: grey; font-size: 90%;">19:14:18 UTC</span>

<span style="font-size: 90%;">yep. I've made a new test case in my PR</span>

**dune73** <span style="color: grey; font-size: 90%;">19:15:00 UTC</span>

<span style="font-size: 90%;">Ah, I see, that's already in a PR then. Cool.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:15:11 UTC</span>

<span style="font-size: 90%;">Do we need to wait for Azurit to review this?</span>

**airween** <span style="color: grey; font-size: 90%;">19:15:16 UTC</span>

<span style="font-size: 90%;">it's not a PR yet - but I can send it now</span>

**airween** <span style="color: grey; font-size: 90%;">19:15:35 UTC</span>

<span style="font-size: 90%;">I sent it to _@azurIt_ but have no answer yet</span>

**airween** <span style="color: grey; font-size: 90%;">19:16:32 UTC</span>

<span style="font-size: 90%;">I send it now as PR, and we can review that at next meeting</span>

**dune73** <span style="color: grey; font-size: 90%;">19:16:54 UTC</span>

<span style="font-size: 90%;">That is a good plan. Thanks.</span>

**airween** <span style="color: grey; font-size: 90%;">19:17:15 UTC</span>

<span style="font-size: 90%;">done</span>

**airween** <span style="color: grey; font-size: 90%;">19:18:09 UTC</span>

<span style="font-size: 90%;">hmm... what about the Ci again?</span>

**airween** <span style="color: grey; font-size: 90%;">19:18:12 UTC</span>

<span style="font-size: 90%;">[https://github.com/coreruleset/coreruleset/pull/1911/checks?check_run_id=1277112196](https://github.com/coreruleset/coreruleset/pull/1911/checks?check_run_id=1277112196)</span>

**dune73** <span style="color: grey; font-size: 90%;">19:18:31 UTC</span>

<span style="font-size: 90%;">[#1887](https://github.com/coreruleset/coreruleset/issues/#1887) is a welcome PR, but unfortunately it introduces a new look-behind pattern. Thus something we would like to get rid of in order to reduce our dependence on PCRE (and allow for other RegEx engines work with out patterns).</span>

**dune73** <span style="color: grey; font-size: 90%;">19:18:57 UTC</span>

<span style="font-size: 90%;">Oh, oh.</span>

**fzipitria** <span style="color: grey; font-size: 90%;">19:19:08 UTC</span>

<span style="font-size: 90%;">Nah, just fire it again</span>

**fzipitria** <span style="color: grey; font-size: 90%;">19:19:21 UTC</span>

<span style="font-size: 90%;">We need to get away from py2 tough</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:19:42 UTC</span>

<span style="font-size: 90%;">1887: yes, I said I will review this PR and now I see there are negative look behinds...</span>

**dune73** <span style="color: grey; font-size: 90%;">19:20:48 UTC</span>

<span style="font-size: 90%;">Can you break the news to the contributor? We probably need to add this to CONTRIBUTING.md</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:21:07 UTC</span>

<span style="font-size: 90%;">I did not dare to do this because we asked him to write tests.</span>

**azurIt** <span style="color: grey; font-size: 90%;">19:21:09 UTC</span>

<span style="font-size: 90%;">Friends, is anyone able to create an exclusion rule for RESPONSE_BODY (for example for rules 951*) ? I'm trying and debugging it for hours without success.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:21:09 UTC</span>

<span style="font-size: 90%;">Is there a chance his fix can be accomplished without look-behind?</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:21:19 UTC</span>

<span style="font-size: 90%;">And he did it...</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:21:39 UTC</span>

<span style="font-size: 90%;">I can try and think about it. Maybe I find a solution.</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:21:44 UTC</span>

<span style="font-size: 90%;">I'm not sure...</span>

**dune73** <span style="color: grey; font-size: 90%;">19:21:45 UTC</span>

<span style="font-size: 90%;">Ah, I see. This is getting  touchy. :slightly_smiling_face:</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:21:58 UTC</span>

<span style="font-size: 90%;">That's why I wanted to ask here :wink:</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:22:03 UTC</span>

<span style="font-size: 90%;">I will have a look at it again</span>

**dune73** <span style="color: grey; font-size: 90%;">19:22:07 UTC</span>

<span style="font-size: 90%;">I would appreciate if you could take out your wizard hat and find a solution here.</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:22:28 UTC</span>

<span style="font-size: 90%;">haha, yes, I'll try</span>

**Emile** <span style="color: grey; font-size: 90%;">19:22:47 UTC</span>

<span style="font-size: 90%;">chained rules aren’t practical in this case? :thinking_face:</span>

**dune73** <span style="color: grey; font-size: 90%;">19:22:52 UTC</span>

<span style="font-size: 90%;">_@azurIt_: Can you send me a document which triggers the rule and a curl statement. I can then try this out tonight and send you a solution. This is ModSec2, right?</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:24:07 UTC</span>

<span style="font-size: 90%;">Oh, I see Piotr is here...?</span>

**Piotr Pazoła** <span style="color: grey; font-size: 90%;">19:24:23 UTC</span>

<span style="font-size: 90%;">_@franbuehler_, _@dune73_ i'll try to find negative lookbehind equivalent. I have not known it could cause the such kind of problem</span>

**dune73** <span style="color: grey; font-size: 90%;">19:24:38 UTC</span>

<span style="font-size: 90%;">Perfect timing _@piotrup_!</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:24:54 UTC</span>

<span style="font-size: 90%;">Yes, that would be great!!</span>

**dune73** <span style="color: grey; font-size: 90%;">19:25:07 UTC</span>

<span style="font-size: 90%;">That would be most helpful. We like the fix, but we should have realized you used a look-behind to pull it off.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:25:37 UTC</span>

<span style="font-size: 90%;">It is that you can almost run CRS on RE2 on Hyperscan with only 2-3 patterns remaining. If we merge your update, we move away from that target a bit more.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:25:49 UTC</span>

<span style="font-size: 90%;">s/on/or/</span>

**Piotr Pazoła** <span style="color: grey; font-size: 90%;">19:26:06 UTC</span>

<span style="font-size: 90%;">Yes, true. I've just read about old issue [#1663](https://github.com/coreruleset/coreruleset/issues/#1663) and I released it should be pulled in better form</span>

**Piotr Pazoła** <span style="color: grey; font-size: 90%;">19:26:38 UTC</span>

<span style="font-size: 90%;">s/released/realize</span>

**dune73** <span style="color: grey; font-size: 90%;">19:27:57 UTC</span>

<span style="font-size: 90%;">Easy. So please give it a shot. And _@franbuehler_ is available if you need support. Not sure if a chained rule could help (as suggested by _@Emile_). Maybe yes, but at the cost of performance.</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:28:45 UTC</span>

<span style="font-size: 90%;">Thank you Piotr</span>

**dune73** <span style="color: grey; font-size: 90%;">19:29:03 UTC</span>

<span style="font-size: 90%;">Next in line is [#1816](https://github.com/coreruleset/coreruleset/issues/#1816), reported by Taiki-San / _@Emile_.
There is a partial solution in form of a PR that is related to this, but if I got this correctly, not everything is covered and then we did not respond to [#1816](https://github.com/coreruleset/coreruleset/issues/#1816) anymore.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:30:55 UTC</span>

<span style="font-size: 90%;">_@Emile_: Can you give us a brief summary of the status?</span>

**Emile** <span style="color: grey; font-size: 90%;">19:32:56 UTC</span>

<span style="font-size: 90%;">So, the PR is trying to more strictly enforce boundaries & context, and move away from \W which are basically wildcards. This make the rule significantly less aggressive (which broke a few tests in my recollection) and because this is a widespread change in the generation of the rule, we wanted to be careful merging it</span>

**Emile** <span style="color: grey; font-size: 90%;">19:33:17 UTC</span>

<span style="font-size: 90%;">Didn’t really have the time to move back on it so I suspect nothing really has changed in a few months</span>

**dune73** <span style="color: grey; font-size: 90%;">19:34:15 UTC</span>

<span style="font-size: 90%;">I think Franbuehler volunteered to herd to PR to merge quality. If we merge the PR, could you then check if [#1816](https://github.com/coreruleset/coreruleset/issues/#1816) is covered for you?</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:34:17 UTC</span>

<span style="font-size: 90%;">I can have a look at this issue and PR.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:34:44 UTC</span>

<span style="font-size: 90%;">Issue too Problem is, it is not readily produceable for us. Has to do with the way sqreen uses our rules, I think.</span>

**Emile** <span style="color: grey; font-size: 90%;">19:34:44 UTC</span>

<span style="font-size: 90%;">I would need to run a new test campaign but based on early tests, I believe it would</span>

**dune73** <span style="color: grey; font-size: 90%;">19:35:13 UTC</span>

<span style="font-size: 90%;">So I think _@Emile_ has to check it, _@franbuehler_.</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:35:26 UTC</span>

<span style="font-size: 90%;">Ok... Good for me :wink:</span>

**Emile** <span style="color: grey; font-size: 90%;">19:36:08 UTC</span>

<span style="font-size: 90%;">If it doesn’t make sense to merge it in CRS, we now have facilities to fork patterns on our side, although we try to avoid it</span>

**dune73** <span style="color: grey; font-size: 90%;">19:36:36 UTC</span>

<span style="font-size: 90%;">I see. Yes, better avoid this and our patterns are too broad in this case. Your PR makes a lot of sense.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:36:49 UTC</span>

<span style="font-size: 90%;">So we have this one covered. Thank you Emile and Franbuehler.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:37:12 UTC</span>

<span style="font-size: 90%;">[#1891](https://github.com/coreruleset/coreruleset/issues/#1891) is a simple NextCloud thing. I reckon we can ask emphazer on this one too.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:37:52 UTC</span>

<span style="font-size: 90%;">[#1896](https://github.com/coreruleset/coreruleset/issues/#1896) is a bug / misconception in the way we do our anomaly score reporting. I volunteer to take that one on and come up with a PR.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:38:35 UTC</span>

<span style="font-size: 90%;">Which leaves us with a dangerous SQLi false negative in [#1904](https://github.com/coreruleset/coreruleset/issues/#1904).</span>

**dune73** <span style="color: grey; font-size: 90%;">19:38:42 UTC</span>

<span style="font-size: 90%;">That could be an interesting task.</span>

**walter** <span style="color: grey; font-size: 90%;">19:40:19 UTC</span>

<span style="font-size: 90%;">this should be detected by quite some rules if it was in ARGS</span>

**walter** <span style="color: grey; font-size: 90%;">19:40:42 UTC</span>

<span style="font-size: 90%;">IIRC, we have experimented with adding libinjection to the request_filename but we backed that out because there were too many FPs…</span>

**walter** <span style="color: grey; font-size: 90%;">19:40:55 UTC</span>

<span style="font-size: 90%;">because people actually use () in URLs a lot</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:41:16 UTC</span>

<span style="font-size: 90%;">What is REQUEST_BASENAME?</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:41:37 UTC</span>

<span style="font-size: 90%;">ah filename part...</span>

**walter** <span style="color: grey; font-size: 90%;">19:41:38 UTC</span>

<span style="font-size: 90%;">hmm, i think that should be the same as REQUEST_FILENAME :thinking_face:</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:41:47 UTC</span>

<span style="font-size: 90%;">I know, it’s rude, but in these cases it would be really nice to have a configuration in which I can set the allowed character of my request basename web app</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:43:53 UTC</span>

<span style="font-size: 90%;">something like a default regex that disallow characters like brakets in the path name</span>

**dune73** <span style="color: grey; font-size: 90%;">19:43:59 UTC</span>

<span style="font-size: 90%;">_@theMiddle_ I do not understand what you mean exactly.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:44:42 UTC</span>

<span style="font-size: 90%;">I mean instead of using libinjection on the request_basename that leads to many FP, a default “allowed characters” for request_basename</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:44:58 UTC</span>

<span style="font-size: 90%;">or better “disallowed characters”</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:45:21 UTC</span>

<span style="font-size: 90%;">idk if it’s too raw</span>

**dune73** <span style="color: grey; font-size: 90%;">19:46:44 UTC</span>

<span style="font-size: 90%;">Ah, a character list explicitly for the basename, or the whole filename. Yes, could be a thing and in most cases, actually very simple. I rarely see something else than lower range ascii in filenames on webservers.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:47:15 UTC</span>

<span style="font-size: 90%;">me too, except for filename like notes(2).txt</span>

**walter** <span style="color: grey; font-size: 90%;">19:47:22 UTC</span>

<span style="font-size: 90%;">Russians would hate that feature, but it would be a nice feature to tweak, as long as we make it very lax by default</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:47:36 UTC</span>

<span style="font-size: 90%;">oh, that’s right :confused:</span>

**dune73** <span style="color: grey; font-size: 90%;">19:47:48 UTC</span>

<span style="font-size: 90%;">Lax by default and tougher in higher PLs.</span>

**walter** <span style="color: grey; font-size: 90%;">19:47:49 UTC</span>

<span style="font-size: 90%;">it could solve a lot of issues for mostly-read-only content sites</span>

**dune73** <span style="color: grey; font-size: 90%;">19:48:12 UTC</span>

<span style="font-size: 90%;">But this issue here would not profit, or would it? I mean it's detected at PL3, now.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:48:55 UTC</span>

<span style="font-size: 90%;">I mean, we can block the reported payload by prevent something like [“’()\[\]]+ ?
/if(now()=sysdate(),sleep(12),0)</span>

**walter** <span style="color: grey; font-size: 90%;">19:49:27 UTC</span>

<span style="font-size: 90%;">that’s true, at the other hand, I was just now looking at [https://en.wikipedia.org/wiki/24_(season_6)](https://en.wikipedia.org/wiki/24_(season_6)) :“)</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:49:39 UTC</span>

<span style="font-size: 90%;">oh</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:49:41 UTC</span>

<span style="font-size: 90%;">damn!</span>

**walter** <span style="color: grey; font-size: 90%;">19:49:45 UTC</span>

<span style="font-size: 90%;">so for wikis it would be horrible!</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:49:45 UTC</span>

<span style="font-size: 90%;">ok, bad idea!</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:49:47 UTC</span>

<span style="font-size: 90%;">:smile:</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:49:55 UTC</span>

<span style="font-size: 90%;">delete it</span>

**dune73** <span style="color: grey; font-size: 90%;">19:50:38 UTC</span>

<span style="font-size: 90%;">:joy:</span>

**dune73** <span style="color: grey; font-size: 90%;">19:50:56 UTC</span>

<span style="font-size: 90%;">Computing would be much easier without the humans interfering.</span>

**franbuehler** <span style="color: grey; font-size: 90%;">19:51:46 UTC</span>

<span style="font-size: 90%;">And using libinjection on REQUEST_BASENAME is prone to FP, we say?</span>

**dune73** <span style="color: grey; font-size: 90%;">19:52:18 UTC</span>

<span style="font-size: 90%;">Yes, I'm pretty sure of that.</span>

**dune73** <span style="color: grey; font-size: 90%;">19:52:31 UTC</span>

<span style="font-size: 90%;">How about some of the other SQLi rules?</span>

**walter** <span style="color: grey; font-size: 90%;">19:52:44 UTC</span>

<span style="font-size: 90%;">yes, maybe some with some list of keywords…</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:52:47 UTC</span>

<span style="font-size: 90%;">and, otherwise, that payload could be anything… not just sql…</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:53:36 UTC</span>

<span style="font-size: 90%;">/eval(...);sleep(2)</span>

**dune73** <span style="color: grey; font-size: 90%;">19:53:44 UTC</span>

<span style="font-size: 90%;">Sure.</span>

**theMiddle** <span style="color: grey; font-size: 90%;">19:54:07 UTC</span>

<span style="font-size: 90%;">it’s a little bit hard on the basename</span>

**dune73** <span style="color: grey; font-size: 90%;">19:56:57 UTC</span>

<span style="font-size: 90%;">So what do we now? Do we want to tackle this - or do we live with the false negative because it's too dangerous to fight this in PL1 and PL2. I mean we do catch it in PL3...</span>

**walter** <span style="color: grey; font-size: 90%;">19:58:10 UTC</span>

<span style="font-size: 90%;">it’s a hard call. ideally I think we should catch it in PL2 but not be overly aggressive…</span>

**dune73** <span style="color: grey; font-size: 90%;">19:58:49 UTC</span>

<span style="font-size: 90%;">Do you see a chance to pull this off at PL2 with the payload in question?</span>

**walter** <span style="color: grey; font-size: 90%;">19:59:26 UTC</span>

<span style="font-size: 90%;">yes I think that payload should fire, especially with some obscure words like sysdate() but I can imagine sleep(2) would cause FPs whether we like it or not…</span>

**walter** <span style="color: grey; font-size: 90%;">19:59:52 UTC</span>

<span style="font-size: 90%;">a lot of forums have also implemented “friendly URLs” where you get these kinds of things in URIs…</span>

**dune73** <span style="color: grey; font-size: 90%;">19:59:57 UTC</span>

<span style="font-size: 90%;">That is the quadrant with dangerous english keywords and the not so dangerous ones again.</span>

**walter** <span style="color: grey; font-size: 90%;">20:00:03 UTC</span>

<span style="font-size: 90%;">yes exactly!</span>

**dune73** <span style="color: grey; font-size: 90%;">20:00:06 UTC</span>

<span style="font-size: 90%;">Very unfriendly.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:00:40 UTC</span>

<span style="font-size: 90%;">Our plates are all a bit full, I think. So who could address this?</span>

**walter** <span style="color: grey; font-size: 90%;">20:00:55 UTC</span>

<span style="font-size: 90%;">sleep\(\d+\) might not be so FP prone… especially for PL2 I wouldn’t be too mad if it fired</span>

**walter** <span style="color: grey; font-size: 90%;">20:01:12 UTC</span>

<span style="font-size: 90%;">yes, sadly I can’t take up too many issues right now :disappointed:</span>

**dune73** <span style="color: grey; font-size: 90%;">20:01:49 UTC</span>

<span style="font-size: 90%;">Do we have a volunteers to bite into this?</span>

**theMiddle** <span style="color: grey; font-size: 90%;">20:02:33 UTC</span>

<span style="font-size: 90%;">I guess I’m not the man for a new rule without FPs :slightly_smiling_face:</span>

**walter** <span style="color: grey; font-size: 90%;">20:03:02 UTC</span>

<span style="font-size: 90%;">well no need to be scared, you just tackled a very complex issue there :slightly_smiling_face:</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:03:24 UTC</span>

<span style="font-size: 90%;">I don't have an issue yet, but this one is hard.
Well, at least, I can think about it... I will have a look at it...</span>

**walter** <span style="color: grey; font-size: 90%;">20:03:46 UTC</span>

<span style="font-size: 90%;">I think there’s lots of inspiration in our regexp based SQLi rules in PL2</span>

**walter** <span style="color: grey; font-size: 90%;">20:04:03 UTC</span>

<span style="font-size: 90%;">I would be willing to test them out on live traffic</span>

**dune73** <span style="color: grey; font-size: 90%;">20:04:16 UTC</span>

<span style="font-size: 90%;">Applause for the fearless _@franbuehler_! :slightly_smiling_face:</span>

**dune73** <span style="color: grey; font-size: 90%;">20:04:36 UTC</span>

<span style="font-size: 90%;">And we have the new CRS-incubator to test this too!</span>

**dune73** <span style="color: grey; font-size: 90%;">20:05:08 UTC</span>

<span style="font-size: 90%;">Finally, more FPs in [#1905](https://github.com/coreruleset/coreruleset/issues/#1905).</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:05:20 UTC</span>

<span style="font-size: 90%;">We already have 10 issues...</span>

**walter** <span style="color: grey; font-size: 90%;">20:05:39 UTC</span>

<span style="font-size: 90%;">yes, about that incubator.. would you want to run them in a separate repos? I thought we could add them to our default codebase and gate them within a setting enable_incubator_rules=1 would probably get more easier integration and uptake, don’t you think?</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:05:55 UTC</span>

<span style="font-size: 90%;">I'll add nr. 11 :wink:</span>

**dune73** <span style="color: grey; font-size: 90%;">20:06:12 UTC</span>

<span style="font-size: 90%;">_@franbuehler_, I did not count one of the PRs...</span>

**dune73** <span style="color: grey; font-size: 90%;">20:06:19 UTC</span>

<span style="font-size: 90%;">So 1905 is number 10 in my counting.</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:06:57 UTC</span>

<span style="font-size: 90%;">Ok, it doesn't matter...</span>

**dune73** <span style="color: grey; font-size: 90%;">20:07:12 UTC</span>

<span style="font-size: 90%;">No, it has to be separate, I think. That way people can update automatically. If we do it in the main repo, the feedback loops are too long.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:07:46 UTC</span>

<span style="font-size: 90%;">And what I have in mind with the incubator is relatively few users, but all of them with heavy traffic and using incubator as a means to support our project.</span>

**walter** <span style="color: grey; font-size: 90%;">20:07:55 UTC</span>

<span style="font-size: 90%;">alright. well it would work for me, I use a fork and regularly import the CRS anyway, sometimes master even, but some users might have to substantially change their processes</span>

**dune73** <span style="color: grey; font-size: 90%;">20:08:32 UTC</span>

<span style="font-size: 90%;">They will need to do a separate Include and change their processes. But I think the enterprises willing to run incubator will be open to do that.</span>

**walter** <span style="color: grey; font-size: 90%;">20:08:46 UTC</span>

<span style="font-size: 90%;">alright, sounds legit!</span>

**walter** <span style="color: grey; font-size: 90%;">20:09:20 UTC</span>

<span style="font-size: 90%;">although these rules would have to run before the CRS’s correlation rules right</span>

**walter** <span style="color: grey; font-size: 90%;">20:09:38 UTC</span>

<span style="font-size: 90%;">so how do we make sure that they run at the right moment…</span>

**dune73** <span style="color: grey; font-size: 90%;">20:10:04 UTC</span>

<span style="font-size: 90%;">Yes, I think the Include has to go after crs-setup.conf (probably) and certainly before the rules include.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:10:33 UTC</span>

<span style="font-size: 90%;">It's a question of documentation. Again: The target audience knows about this stuff.</span>

**walter** <span style="color: grey; font-size: 90%;">20:10:36 UTC</span>

<span style="font-size: 90%;">but then they can’t depend on the variables we set in 901</span>

**walter** <span style="color: grey; font-size: 90%;">20:10:47 UTC</span>

<span style="font-size: 90%;">true, it would have to get a very good blog</span>

**dune73** <span style="color: grey; font-size: 90%;">20:11:07 UTC</span>

<span style="font-size: 90%;">That is true, though. But I reckon, the incubator rules have to be self-sufficient.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:11:12 UTC</span>

<span style="font-size: 90%;">Definitely a blog post.</span>

**walter** <span style="color: grey; font-size: 90%;">20:11:22 UTC</span>

<span style="font-size: 90%;">true true, we’d just have to be careful about that</span>

**walter** <span style="color: grey; font-size: 90%;">20:12:18 UTC</span>

<span style="font-size: 90%;">I would still appreciate some kind of enable_incubator_rules setting in crs-setup.conf.example though, so that I can set that on a VirtualHost basis, while keeping one global config file</span>

**walter** <span style="color: grey; font-size: 90%;">20:13:02 UTC</span>

<span style="font-size: 90%;">the incubator rules would just have to have a preamble that checks on that and otherwise skips over them</span>

**walter** <span style="color: grey; font-size: 90%;">20:13:32 UTC</span>

<span style="font-size: 90%;">it would also be a good way for people to notice that the incubator exists</span>

**dune73** <span style="color: grey; font-size: 90%;">20:13:36 UTC</span>

<span style="font-size: 90%;">Can't you do a rule exclusion by tag or id to avoid the incubator rules?</span>

**walter** <span style="color: grey; font-size: 90%;">20:13:52 UTC</span>

<span style="font-size: 90%;">of course, that’s also possible indeed!</span>

**dune73** <span style="color: grey; font-size: 90%;">20:13:55 UTC</span>

<span style="font-size: 90%;">Ah, no, does not work because crs-setup runs before.</span>

**dune73** <span style="color: grey; font-size: 90%;">20:14:08 UTC</span>

<span style="font-size: 90%;">Or we move the incubator rules even further up. :slightly_smiling_face:</span>

**walter** <span style="color: grey; font-size: 90%;">20:14:09 UTC</span>

<span style="font-size: 90%;">no that would work I think</span>

**dune73** <span style="color: grey; font-size: 90%;">20:14:41 UTC</span>

<span style="font-size: 90%;">Depends on the exlusion type, yes.</span>

**walter** <span style="color: grey; font-size: 90%;">20:14:46 UTC</span>

<span style="font-size: 90%;">but I would probably only enable them for a few sites, so it would be cumbersome to add excludes to 99% of sites</span>

**dune73** <span style="color: grey; font-size: 90%;">20:15:41 UTC</span>

<span style="font-size: 90%;">You want to include them everywhere, but only enable them on a few sites?</span>

**walter** <span style="color: grey; font-size: 90%;">20:16:29 UTC</span>

<span style="font-size: 90%;">yeah the way I work is I have a git repo with the CRS and my own rules, and I just deploy that everywhere, with some VirtualHosts having custom config</span>

**dune73** <span style="color: grey; font-size: 90%;">20:17:23 UTC</span>

<span style="font-size: 90%;">Then I would include the rule exclusion everywhere and have the custom config remove the rule exclusion...</span>

**walter** <span style="color: grey; font-size: 90%;">20:17:39 UTC</span>

<span style="font-size: 90%;">ha, would that work? then it’s nice :slightly_smiling_face:</span>

**dune73** <span style="color: grey; font-size: 90%;">20:20:03 UTC</span>

<span style="font-size: 90%;">You can exclude the rule exclusion rule if it's a runtime rule exclusion - or you could try and use apache if statements to ignore the SecRuleRemoveById on the VH level. Might work.</span>

**walter** <span style="color: grey; font-size: 90%;">20:20:17 UTC</span>

<span style="font-size: 90%;">I’m sure I’ll get it to work</span>

**dune73** <span style="color: grey; font-size: 90%;">20:21:32 UTC</span>

<span style="font-size: 90%;">Cool.
But anyways, I guess our incubator talk shied everybody else away. So I guess we better drop 1905 and call it a night...</span>

**walter** <span style="color: grey; font-size: 90%;">20:21:46 UTC</span>

<span style="font-size: 90%;">yess.. sleep :heart_eyes:</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:22:26 UTC</span>

<span style="font-size: 90%;">Good night everybody!</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:22:35 UTC</span>

<span style="font-size: 90%;">Issues is already updated: [https://github.com/coreruleset/coreruleset/issues/1892#issuecomment-703832606](https://github.com/coreruleset/coreruleset/issues/1892#issuecomment-703832606)</span>

**dune73** <span style="color: grey; font-size: 90%;">20:22:42 UTC</span>

<span style="font-size: 90%;">Thanks everybody for joining!</span>

**walter** <span style="color: grey; font-size: 90%;">20:22:43 UTC</span>

<span style="font-size: 90%;">I think [#1905](https://github.com/coreruleset/coreruleset/issues/#1905) is quite a niche feature and it might make that rule already harder than it is…</span>

**walter** <span style="color: grey; font-size: 90%;">20:23:08 UTC</span>

<span style="font-size: 90%;">but maybe, another time with a fresh mind :slightly_smiling_face:</span>

**franbuehler** <span style="color: grey; font-size: 90%;">20:23:24 UTC</span>

<span style="font-size: 90%;">:wave:</span>

**airween** <span style="color: grey; font-size: 90%;">20:24:00 UTC</span>

<span style="font-size: 90%;">good night!</span>

**walter** <span style="color: grey; font-size: 90%;">20:24:26 UTC</span>

<span style="font-size: 90%;">good night everyone!</span>

